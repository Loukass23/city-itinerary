(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{268:function(e,t,a){},294:function(e,t,a){e.exports=a.p+"static/media/cover.ef66c7e6.png"},296:function(e,t,a){e.exports=a.p+"static/media/Berlin.0878793e.jpg"},404:function(e,t,a){e.exports=a(713)},409:function(e,t,a){},410:function(e,t,a){},681:function(e,t,a){},713:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(290),l=a.n(r),c=(a(409),a(7)),s=a(8),o=a(12),m=a(9),u=a(11),d=a(716),h=a(718),p=a(298),f=a(187),E=(a(410),function(e){var t=e.city;return i.a.createElement("div",{className:"card small",style:{maxHeight:"200px"}},i.a.createElement("div",{className:"card-image",style:{maxHeight:"200px"}},i.a.createElement("img",{src:t.photoURL,alt:""}),i.a.createElement("span",{id:"city-card",className:"card-title black-text lighten-2 "},t.cityName,", ",t.countryName)))}),g=function(e){var t=e.cities;return i.a.createElement("div",{className:"cities-list section"},t&&t.map(function(e){return i.a.createElement(f.a,{to:"/city/"+e.cityName,key:e.cityName},i.a.createElement(E,{city:e}))}))},N=a(5),v=a(17),y=a(10),b=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.cities,a=e.notifications;return console.log(a),i.a.createElement("div",{className:"cities container"},i.a.createElement("div",{className:"row valign-wrapper"},i.a.createElement("div",{style:{paddingTop:"10px"},className:"col s1"},i.a.createElement(f.a,{to:"/"},i.a.createElement("div",{className:"btn-floating btn-large waves-effect waves-light red lighten-3"},i.a.createElement("i",{className:"material-icons"},"home")))),i.a.createElement("h3",{className:"col s11"},"Cities")),i.a.createElement("div",{className:""},i.a.createElement(g,{cities:t})),i.a.createElement("div",{className:"row"},i.a.createElement(f.a,{to:"/createCity"},i.a.createElement("div",{className:"btn-floating btn-large waves-effect waves-light red lighten-3"},i.a.createElement("i",{className:"material-icons"},"add")))))}}]),t}(n.Component),w=Object(y.d)(Object(N.b)(function(e){return{cities:e.firestore.ordered.cities,notifications:e.firestore.ordered.notifications}}),Object(v.firestoreConnect)([{collection:"cities",orderBy:["createdAt","desc"]}]))(b),O=a(293),C=a(292),j=a.n(C),x=function(e){var t=e.notifications;return console.log("notif",t),i.a.createElement("ul",{className:"notifications"},t&&t.map(function(e){return i.a.createElement(f.a,{key:e.id,to:{pathname:"/city/".concat(e.cityName)}}," ",i.a.createElement("li",{style:{lineHeight:"15px"}},i.a.createElement("p",{className:"teal-text"},e.user),i.a.createElement("p",null,e.content," "),i.a.createElement("p",{className:"grey-text note-date"},j()(e.time.toDate()).fromNow()),i.a.createElement(O.a,null)))}))},S=a(294),R=a.n(S),I=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=(e.cities,e.notifications);return console.log(t),i.a.createElement("div",{className:"dashboard container"},i.a.createElement("h1",null,"Dashboard"),i.a.createElement("div",{className:"row"},i.a.createElement(f.a,{to:"/city"},i.a.createElement("div",{className:"card small",style:{maxHeight:"200px"}},i.a.createElement("div",{className:"card-image",style:{maxHeight:"200px"}},i.a.createElement("img",{src:R.a,alt:""}),i.a.createElement("span",{id:"city-card",className:"card-title white-text lighten-2 "},"Cities"))))),i.a.createElement("div",{className:"dashboard container"}))}}]),t}(n.Component),U=Object(N.b)(function(e){return{notifications:e.firestore.ordered.notifications}})(I),F=function(e){var t=e.itinerary,a=e.city;return console.log(t),i.a.createElement("div",{style:{height:"300px"},className:"card small itinerary-list-item-card col s12 m6 xl4 mx-4"},i.a.createElement("div",{className:"card-image"},i.a.createElement("img",{src:t.photoURL,alt:"",className:"activator"}),i.a.createElement("span",{id:"city-card",className:"itinerary-list-item-title activator card-title black-text lighten-2 "},t.title,i.a.createElement("i",{className:"material-icons right"},"more_vert"))),i.a.createElement("div",{className:"itinerary-list-item-details red-text text-lighten-2"},i.a.createElement("p",null,t.duration,i.a.createElement("i",{className:"far fa-clock small red-text text-lighten-2"})),i.a.createElement("i",{className:"fas fa-2x fa-euro-sign small red-text text-lighten-2"}),i.a.createElement("p",null,t.price),i.a.createElement("i",{className:"far fa-2x fa-star red-text text-lighten-2"}),i.a.createElement("p",null,t.rating)),i.a.createElement("div",{className:"card-reveal white-text",id:"card-reveal"},i.a.createElement("span",{className:"center-align itinerary-list-item-title activator card-title"},i.a.createElement("i",{className:"material-icons right "},"close")),i.a.createElement("p",{className:"itinerary-list-item-summary"},t.summary),i.a.createElement("div",{className:"explore-itinerary-btn center-align"},i.a.createElement(f.a,{to:{pathname:"/city/".concat(a,"/itineraries/").concat(t.id),state:{itinerary_id:t._id}},className:"btn red lighten-2 "},"Explore This Itinerary"))))},A=(a(268),function(e){var t=e.itineraries,a=e.city;return i.a.createElement("div",{className:"itineraries-list section"},i.a.createElement("div",{className:"",id:"iti-List"},t&&t.map(function(e){return i.a.createElement(F,{itinerary:e,city:a,key:e.id})})))}),k=a(50),L=a.n(k),_=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).state={myCity:null},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.itineraries,a=e.city;e.cities;return console.log(this.props),i.a.createElement("div",{className:"dashboard container"},i.a.createElement("div",{className:"row valign-wrapper"},i.a.createElement("div",{className:"col s1"},i.a.createElement(f.a,{to:"/city"},i.a.createElement("div",{className:"btn-floating btn-large waves-effect waves-light red lighten-3"},i.a.createElement("i",{className:" white-text lighten-3 fas fa-2x fa-arrow-left "})))),i.a.createElement("h3",{className:"col s11"},a)),i.a.createElement("div",{className:""},i.a.createElement(A,{itineraries:t,city:a})),i.a.createElement("div",{className:"row"},i.a.createElement(f.a,{to:"/createItinerary"},i.a.createElement("div",{className:"btn-floating btn-large waves-effect waves-light red lighten-3"},i.a.createElement("i",{className:"material-icons"},"add")))))}}]),t}(n.Component),T=Object(v.firestoreConnect)([{collection:"itineraries",orderBy:["createdAt","desc"]},{collection:"cities",orderBy:["createdAt","desc"]}]),D=Object(y.d)(Object(N.b)(function(e,t){console.log(e.firestore);var a=t.match.params.name,n=e.firestore.ordered.itineraries,i=e.firestore.ordered.cities,r=n?n.filter(function(e){return e.cityName===a}):null,l=i?i.filter(function(e){return e.cityName===a}):null;return{itineraries:r,city:a,cities:l}}),T)(_),G=a(29),B=(a(185),a(81)),P=a.n(B),q=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).state={title:"",cityName:"",file:null,isUploading:!1,progress:0,photoURL:"",duration:null,price:null,rating:null,summary:null},a.handleChange=function(e){a.setState(Object(G.a)({},e.target.id,e.target.value))},a.handleSubmit=function(e){console.log(a.state),e.preventDefault(),a.props.createItinerary(a.state),a.props.history.push("/")},a.handleUpload=function(){var e=L.a.storage().ref();console.log(a.state.file.name),a.setState({isUploading:!0,progress:0}),e.child("itinerary/".concat(a.state.file.name)).put(a.state.file).on("state_changed",function(e){console.log(e);var t=Math.round(100*e.bytesTransferred/e.totalBytes);a.setState({progress:t})},function(e){console.log(e)},function(){console.log("success"),a.setState({isUploading:!1,progress:100}),L.a.storage().ref("itinerary").child("".concat(a.state.file.name)).getDownloadURL().then(function(e){return a.setState({photoURL:e})})})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){console.log(P.a),P.a.AutoInit()}},{key:"render",value:function(){var e=this,t={width:this.state.progress+"%"},a=this.props,n=a.cities,r=a.input;return console.log(n),i.a.createElement("div",{className:"container"},i.a.createElement("div",{className:"row valign-wrapper"},i.a.createElement("div",{className:"col s1"},i.a.createElement(f.a,{to:"/city"},i.a.createElement("div",{className:"btn-floating btn-large waves-effect waves-light red lighten-3"},i.a.createElement("i",{className:" white-text lighten-3 fas fa-2x fa-arrow-left "})))),i.a.createElement("h4",{className:"col s11"},"Create Itinerary")),i.a.createElement("form",{onSubmit:this.handleSubmit,className:"white"},i.a.createElement("div",{className:"input-field"},i.a.createElement("label",{htmlFor:"title"},"Title"),i.a.createElement("input",{required:!0,type:"text",id:"title",onChange:this.handleChange})),i.a.createElement("div",{className:"input-field"},i.a.createElement("select",{required:!0,onChange:this.handleChange,id:"cityName"},i.a.createElement("option",{value:"",disabled:!0,selected:!0},"Choose your option"),n&&n.map(function(e,t){return i.a.createElement("option",{htmlFor:"cityName",key:t,value:e.cityName},e.cityName)})),i.a.createElement("label",null,"Select City")),i.a.createElement("div",{className:"input-field"},i.a.createElement("select",{required:!0,onChange:this.handleChange,id:"price"},i.a.createElement("option",null,"Cheap"),i.a.createElement("option",null,"Moderate"),i.a.createElement("option",null,"Expensive")),i.a.createElement("label",{htmlFor:"price"},"Price")),i.a.createElement("div",{className:"input-field"},i.a.createElement("input",{required:!0,id:"duration",type:"text",length:"10",className:"materialize-textarea",onChange:this.handleChange}),i.a.createElement("label",{htmlFor:"duration"},"Duration in hours")),i.a.createElement("div",{className:"input-field"},i.a.createElement("label",{required:!0,htmlFor:"summary"},"Summary"),i.a.createElement("textarea",{id:"summary",cols:"30",rows:"10",className:"materialize-textarea",onChange:this.handleChange})),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col s6 file-field input-field"},i.a.createElement("div",{className:"btn"},i.a.createElement("span",null,"File"),i.a.createElement("input",Object.assign({required:!0,accept:"image/*",type:"file"},r,{onChange:function(t){e.setState({file:t.target.files[0],isUploading:!0},e.handleUpload)}}))),i.a.createElement("div",{className:"file-path-wrapper "},i.a.createElement("input",{className:"file-path validate",type:"text"})),this.state.isUploading&&i.a.createElement("div",{className:"progress"},i.a.createElement("div",{className:"determinate",style:t}))),i.a.createElement("div",{className:"col s6"},this.state.photoURL&&i.a.createElement("img",{width:"100px",src:this.state.photoURL,alt:""}))),i.a.createElement("div",{className:"input-field"}),i.a.createElement("div",{className:"input-field"},i.a.createElement("button",{className:"btn pink lighten-1 z-depth-0"},"Create"))))}}]),t}(n.Component),z=Object(y.d)(Object(N.b)(function(e){return console.log(e),{cities:e.firestore.ordered.cities}},function(e){return{createItinerary:function(t){return e(function(e){return function(t,a,n){n.getFirebase;var i=n.getFirestore,r=a().firebase.profile,l=a().firebase.auth.uid;i().collection("itineraries").add({cityName:e.cityName,title:e.title,authorFirstName:r.firstName,authorLastName:r.lastName,authorId:l,photoURL:e.photoURL,summary:e.summary,price:e.price,rating:e.rating,duration:e.duration,createdAt:new Date}).then(function(){t({type:"CREATE_ITINERARY",itinerary:e})}).catch(function(e){t({type:"CREATE_ITINERARY_ERROR",err:e})})}}(t))}}}),Object(v.firestoreConnect)([{collection:"cities",orderBy:["createdAt","desc"]}]))(q),Y=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=(e.itineraries,e.city);return console.log(this.props),i.a.createElement("div",{className:"dashboard container"},i.a.createElement("div",{className:"row"},i.a.createElement("h3",null,t),i.a.createElement("div",{className:"col s12 m6"},"Test"),i.a.createElement("div",{className:"col sm8 offset-m1"})),i.a.createElement("div",{className:"dashboard container"}))}}]),t}(n.Component),H=Object(y.d)(Object(N.b)(function(e,t){var a=t.match.params.id,n=e.firestore.ordered.activities;return{activities:n?n.filter(function(e){return e.itineraryId===a}):null}}),Object(v.firestoreConnect)([{collection:"activities",orderBy:["createdAt","desc"]}]))(Y),M=a(717),W=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).state={email:"",password:""},a.handleChange=function(e){a.setState(Object(G.a)({},e.target.id,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),a.props.signIn(a.state)},a.handleGoogleButton=function(e){e.preventDefault(),a.props.googleSignIn()},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.authErr;return e.auth.uid?i.a.createElement(M.a,{to:"/"}):i.a.createElement("div",{className:"container w-50"},i.a.createElement("form",{onSubmit:this.handleSubmit,className:"white"},i.a.createElement("h5",{className:"grey-text text-darken-3"},"Sign In"),i.a.createElement("div",{className:"input-field"},i.a.createElement("label",{htmlFor:"email"},"Email"),i.a.createElement("input",{type:"email",id:"email",onChange:this.handleChange})),i.a.createElement("div",{className:"input-field"},i.a.createElement("label",{htmlFor:"password"},"Password"),i.a.createElement("input",{type:"password",id:"password",onChange:this.handleChange})),i.a.createElement("div",{className:"input-field"},i.a.createElement("button",{className:"btn teal lighten-1 z-depth-0"},"LOGIN"),i.a.createElement("div",{className:"red-text-center"},t?i.a.createElement("p",null,t):null)),i.a.createElement("hr",null),i.a.createElement("div",{className:"row"},i.a.createElement("p",{className:"col s8"},"Google account"),i.a.createElement("div",{className:"col s4"},i.a.createElement("a",{className:"btn-floating btn-large waves-effect waves-light teal lighten-1",onClick:this.handleGoogleButton},i.a.createElement("i",{className:" white-text lighten-3 fab fa-2x fa-google"}))))))}}]),t}(n.Component),J=Object(N.b)(function(e){return{authErr:e.auth.authErr,auth:e.firebase.auth}},function(e){return{signIn:function(t){return e((a=t,function(e,t,n){(0,n.getFirebase)().auth().signInWithEmailAndPassword(a.email,a.password).then(function(){e({type:"LOGIN_SUCCESS"})}).catch(function(t){e({type:"LOGIN_ERROR",err:t})})}));var a},googleSignIn:function(){return e(function(e,t,a){var n=a.getFirebase,i=a.getFirestore,r=n(),l=i(),c=new r.auth.GoogleAuthProvider;r.auth().signInWithPopup(c).then(function(e){return l.collection("users").doc(e.user.uid).set({firstName:e.user.displayName,lastName:"",initials:e.user.displayName[0]+e.user.displayName[1],avatar:e.user.photoURL})}).then(function(){e({type:"LOGIN_SUCCESS"})}).catch(function(t){e({type:"LOGIN_ERROR",err:t})})})}}})(W),K=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).state={email:"",password:"",firstName:"",lastName:""},a.handleChange=function(e){a.setState(Object(G.a)({},e.target.id,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),a.props.signUp(a.state)},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return this.props.auth.uid?i.a.createElement(M.a,{to:"/"}):i.a.createElement("div",{className:"container"},i.a.createElement("form",{onSubmit:this.handleSubmit,className:"white"},i.a.createElement("h5",{className:"grey-text text-darken-3"},"Sign Up"),i.a.createElement("div",{className:"input-field"},i.a.createElement("label",{htmlFor:"email"},"Email"),i.a.createElement("input",{type:"email",id:"email",onChange:this.handleChange})),i.a.createElement("div",{className:"input-field"},i.a.createElement("label",{htmlFor:"password"},"Password"),i.a.createElement("input",{type:"password",id:"password",onChange:this.handleChange})),i.a.createElement("div",{className:"input-field"},i.a.createElement("label",{htmlFor:"firstName"},"First Name"),i.a.createElement("input",{type:"text",id:"firstName",onChange:this.handleChange})),i.a.createElement("div",{className:"input-field"},i.a.createElement("label",{htmlFor:"lastName"},"Last Name"),i.a.createElement("input",{type:"text",id:"lastName",onChange:this.handleChange})),i.a.createElement("div",{className:"input-field"},i.a.createElement("button",{className:"btn pink lighten-1 z-depth-0"},"SIGN UP"))))}}]),t}(n.Component),Z=Object(N.b)(function(e){return{auth:e.firebase.auth}},function(e){return{signUp:function(t){return e(function(e){return function(t,a,n){var i=n.getFirebase,r=n.getFirestore,l=i(),c=r();l.auth().createUserWithEmailAndPassword(e.email,e.password).then(function(t){return c.collection("users").doc(t.user.uid).set({firstName:e.firstName,lastName:e.lastName,initials:e.firstName[0]+e.lastName[0]})}).then(function(){t({type:"SIGNUP_SUCCESS"})}).catch(function(e){t({type:"SIGNUP_ERROR"})})}}(t))}}})(K),$=a(188),Q=a.n($),V=a(715),X=Object(N.b)(null,function(e){return{signOut:function(){return e(function(e,t,a){(0,a.getFirebase)().auth().signOut().then(function(){e({type:"SIGNOUT_SUCCESSS"})})})}}})(function(e){return i.a.createElement(i.a.Fragment,null,i.a.createElement("li",null,i.a.createElement(V.a,{to:"/createItinerary"},"New itinerary")),i.a.createElement("li",null,i.a.createElement(V.a,{to:"/createCity"},"New City")),i.a.createElement("li",null,i.a.createElement("a",{onClick:e.signOut},"Log Out")))}),ee=function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement("li",null,i.a.createElement(V.a,{to:"/signup"},"Sign Up")),i.a.createElement("li",null,i.a.createElement(V.a,{to:"/signin"},"Log In")))},te=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=document.querySelectorAll(".sidenav"),t=(Q.a.Sidenav.init(e,t),{inDuration:250,outDuration:200,draggable:!0}),a=document.querySelectorAll(".dropdown-trigger");Q.a.Dropdown.init(a,{coverTrigger:!1,constrainWidth:!1})}},{key:"render",value:function(){var e=this.props,t=e.auth,a=e.profile,n=e.notifications,r=t.uid?i.a.createElement(X,{profile:a}):i.a.createElement(ee,null),l=a.avatar?i.a.createElement("img",{width:"50px",className:"circle valign-wrapper",src:a.avatar,alt:""}):i.a.createElement("div",{className:"btn btn-floating teal lighten-1"},a.initials);return i.a.createElement("div",{className:"container-fluid px-3"},i.a.createElement("nav",null,i.a.createElement("div",{className:"nav-wrapper"},i.a.createElement(f.a,{to:"/",className:""},"City Itineraries"),i.a.createElement("a",{href:"#","data-target":"mobile-demo",className:"sidenav-trigger"},i.a.createElement("i",{className:"material-icons"},"menu")),i.a.createElement("ul",{style:{paddingRight:"10px"},className:"right hide-on-med-and-down valign-wrapper pr3"},r,i.a.createElement("li",null,i.a.createElement("a",{className:"dropdown-trigger",href:"#!","data-target":"dropdown1"},i.a.createElement("i",{className:"material-icons right"},"notifications"))),i.a.createElement("li",null," ",l)))),i.a.createElement("ul",{id:"dropdown1",className:"dropdown-content"},i.a.createElement("li",null,i.a.createElement(x,{notifications:n}))),i.a.createElement("ul",{className:"sidenav",id:"mobile-demo"},i.a.createElement("li",null,t.uid&&i.a.createElement("div",{className:"user-view valign-wrapper"},i.a.createElement("div",{className:"background indigo lighten-4"}),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col s4"},l),i.a.createElement("div",{className:"col s8"},i.a.createElement("span",{className:"black-text name"},a.firstName," ",a.lastName)))),!t.uid&&i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col s12"},i.a.createElement(J,null),"Not a user? ",i.a.createElement(V.a,{to:"/signup"}," Sign Up")))),t.uid&&i.a.createElement(X,{profile:a}),i.a.createElement("li",null,i.a.createElement("div",{className:"divider"}),i.a.createElement("span",{className:"teal-text"},"Notifications"),i.a.createElement(x,{notifications:n}))))}}]),t}(n.Component),ae=Object(y.d)(Object(N.b)(function(e){return{auth:e.firebase.auth,profile:e.firebase.profile,notifications:e.firestore.ordered.notifications}}),Object(v.firestoreConnect)([{collection:"notifications",limit:3,orderBy:["time","desc"]}]))(te),ne=(a(681),a(295)),ie=a.n(ne),re=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).state={countryName:"",cityName:"",file:null,isUploading:!1,progress:0,photoURL:"",summary:null,options:ie()().getData(),value:""},a.changeSelectHandler=function(e){a.setState({value:e})},a.changeHandler=function(e){a.setState({value:e})},a.handleChange=function(e){a.setState(Object(G.a)({},e.target.id,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),a.props.createCity(a.state),a.props.history.push("/")},a.handleUpload=function(){var e=L.a.storage().ref();a.setState({isUploading:!0,progress:0}),e.child("cities/".concat(a.state.file.name)).put(a.state.file).on("state_changed",function(e){var t=Math.round(100*e.bytesTransferred/e.totalBytes);a.setState({progress:t})},function(e){console.log(e)},function(){console.log("success"),a.setState({isUploading:!1,progress:100}),L.a.storage().ref("cities").child("".concat(a.state.file.name)).getDownloadURL().then(function(e){console.log(e),a.setState({photoURL:e})})})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){P.a.AutoInit()}},{key:"render",value:function(){var e=this,t={width:this.state.progress+"%"},a=this.props,n=(a.cities,a.input);return i.a.createElement("div",{className:"container"},i.a.createElement("div",{className:"row valign-wrapper"},i.a.createElement("div",{className:"col s1"},i.a.createElement(f.a,{to:"/city"},i.a.createElement("div",{className:"btn-floating btn-large waves-effect waves-light red lighten-2"},i.a.createElement("i",{className:" white-text lighten-3 fas fa-2x fa-arrow-left "})))),i.a.createElement("h4",{className:"col s11"},"Create City")),i.a.createElement("form",{onSubmit:this.handleSubmit,className:"white"},i.a.createElement("div",{className:"input-field"},i.a.createElement("label",{htmlFor:"cityName"},"City name"),i.a.createElement("input",{required:!0,type:"text",id:"cityName",onChange:this.handleChange})),i.a.createElement("div",{className:"input-field"},i.a.createElement("select",{required:!0,value:this.state.value,onChange:this.handleChange,id:"countryName"},this.state.options&&this.state.options.map(function(e,t){return i.a.createElement("option",{htmlFor:"countryName",key:t,value:e.label},e.label)})),i.a.createElement("label",null,"Select Country")),i.a.createElement("div",{className:"input-field"},i.a.createElement("label",{required:!0,htmlFor:"summary"},"Summary"),i.a.createElement("textarea",{id:"summary",cols:"30",rows:"10",className:"materialize-textarea",onChange:this.handleChange})),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col s6 file-field input-field"},i.a.createElement("div",{className:"btn"},i.a.createElement("span",null,"File"),i.a.createElement("input",Object.assign({required:!0,accept:"image/*",type:"file"},n,{onChange:function(t){e.setState({file:t.target.files[0],isUploading:!0},e.handleUpload)}}))),i.a.createElement("div",{className:"file-path-wrapper "},i.a.createElement("input",{className:"file-path validate",type:"text"})),this.state.isUploading&&i.a.createElement("div",{className:"progress"},i.a.createElement("div",{className:"determinate",style:t}))),i.a.createElement("div",{className:"col s6"},this.state.photoURL&&i.a.createElement("img",{width:"100px",src:this.state.photoURL,alt:""}))),i.a.createElement("div",{className:"input-field"}),i.a.createElement("div",{className:"input-field"},!this.isUploading&&i.a.createElement("button",{disabled:this.isUploading,className:"btn red lighten-2 z-depth-0"},"Create"))))}}]),t}(n.Component),le=Object(N.b)(null,function(e){return{createCity:function(t){return e(function(e){return function(t,a,n){n.getFirebase;var i=n.getFirestore,r=a().firebase.profile,l=a().firebase.auth.uid;i().collection("cities").add({cityName:e.cityName,countryName:e.countryName,authorFirstName:r.firstName,authorLastName:r.lastName,authorId:l,photoURL:e.photoURL,summary:e.summary,createdAt:new Date}).then(function(){t({type:"CREATE_CITY",city:e})}).catch(function(e){t({type:"CREATE_CITY_ERROR",err:e})})}}(t))}}})(re),ce=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return i.a.createElement(d.a,null,i.a.createElement("div",{className:"App"},i.a.createElement(ae,null),i.a.createElement(h.a,null,i.a.createElement(p.a,{exact:!0,path:"/",component:U}),i.a.createElement(p.a,{exact:!0,path:"/city",component:w}),i.a.createElement(p.a,{path:"/city/:name",component:D}),i.a.createElement(p.a,{path:"/city/:name/itinerary/:id",component:H}),i.a.createElement(p.a,{path:"/createItinerary",component:z}),i.a.createElement(p.a,{path:"/createCity",component:le}),i.a.createElement(p.a,{path:"/signin",component:J}),i.a.createElement(p.a,{path:"/signup",component:Z}))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function se(){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}var oe=a(83),me={authErr:null},ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_ERROR":return console.log("login failed"),Object(oe.a)({},e,{authErr:"Login failed"});case"LOGIN_SUCCESS":return console.log("login success"),Object(oe.a)({},e,{authErr:null});case"SIGNOUT_SUCESS":return console.log("signout success"),e;case"SIGNUP_SUCCESS":return console.log("signup success"),Object(oe.a)({},e,{authErr:null});case"SIGNUP_ERROR":return console.log("signup faild"),Object(oe.a)({},e,{authErr:t.err.message});default:return e}},de=a(296),he={cities:[{id:1,name:"Berlin",photo:a.n(de).a,details:"Welcome to Berlin"},{id:2,name:"Paris",details:"content2"}]},pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_CITY":return console.log("created city",t.project),e;case"CREATE_CITY_ERROR":return console.log("create city error",t.err),e;default:return e}},fe={},Ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_ITINERARY":return console.log("created itinerary",t.project),e;case"CREATE_ITINERARY_ERROR":return console.log("create itinerary error",t.err),e;default:return e}},ge=a(82),Ne=Object(y.c)({auth:ue,city:pe,itinerary:Ee,firestore:ge.firestoreReducer,firebase:v.firebaseReducer}),ve=a(297),ye=a(189),be=a.n(ye);a(711),a(712);be.a.initializeApp({apiKey:"AIzaSyCtKC84podP-rj_fxclZg_1j7Cd7IwBGIk",authDomain:"city-itinerary.firebaseapp.com",databaseURL:"https://city-itinerary.firebaseio.com",projectId:"city-itinerary",storageBucket:"city-itinerary.appspot.com",messagingSenderId:"150124635351"});var we=be.a,Oe=Object(y.e)(Ne,Object(y.d)(Object(y.a)(ve.a.withExtraArgument({getFirebase:v.getFirebase,getFirestore:ge.getFirestore})),Object(ge.reduxFirestore)(we),Object(v.reactReduxFirebase)(we,{useFirestoreForProfile:!0,userProfile:"users",attachAuthIsReady:!0})));Oe.firebaseAuthIsReady.then(function(){l.a.render(i.a.createElement(N.a,{store:Oe},i.a.createElement(ce,null)),document.getElementById("root")),se()}),se()}},[[404,1,2]]]);
//# sourceMappingURL=main.02b042d3.chunk.js.map