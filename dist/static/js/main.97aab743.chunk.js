(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{268:function(e,t,a){},295:function(e,t,a){e.exports=a.p+"static/media/Berlin.0878793e.jpg"},403:function(e,t,a){e.exports=a(712)},408:function(e,t,a){},409:function(e,t,a){},680:function(e,t,a){},712:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(290),l=a.n(i),c=(a(408),a(7)),s=a(8),o=a(12),m=a(9),u=a(11),d=a(715),h=a(717),p=a(297),f=a(187),E=(a(409),function(e){var t=e.city;return r.a.createElement("div",{className:"card small",style:{maxHeight:"200px"}},r.a.createElement("div",{className:"card-image",style:{maxHeight:"200px"}},r.a.createElement("img",{src:t.photoURL,alt:""}),r.a.createElement("span",{id:"city-card",className:"card-title black-text lighten-2 "},t.cityName,", ",t.countryName)))}),g=function(e){var t=e.cities;return r.a.createElement("div",{className:"cities-list section"},t&&t.map(function(e){return r.a.createElement(f.a,{to:"/city/"+e.cityName,key:e.cityName},r.a.createElement(E,{city:e}))}))},N=a(5),v=a(16),y=a(10),b=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.cities,a=e.notifications;return console.log(a),r.a.createElement("div",{className:"cities container"},r.a.createElement("div",{className:"row valign-wrapper"},r.a.createElement("div",{style:{paddingTop:"10px"},className:"col s1"},r.a.createElement(f.a,{to:"/"},r.a.createElement("div",{className:"btn-floating btn-large waves-effect waves-light red lighten-3"},r.a.createElement("i",{className:"material-icons"},"home")))),r.a.createElement("h3",{className:"col s11"},"Cities")),r.a.createElement("div",{className:""},r.a.createElement(g,{cities:t})),r.a.createElement("div",{className:"row"},r.a.createElement(f.a,{to:"/createCity"},r.a.createElement("div",{className:"btn-floating btn-large waves-effect waves-light red lighten-3"},r.a.createElement("i",{className:"material-icons"},"add")))))}}]),t}(n.Component),w=Object(y.d)(Object(N.b)(function(e){return{cities:e.firestore.ordered.cities,notifications:e.firestore.ordered.notifications}}),Object(v.firestoreConnect)([{collection:"cities",orderBy:["createdAt","desc"]}]))(b),O=a(293),C=a(292),j=a.n(C),S=function(e){var t=e.notifications;return console.log("notif",t),r.a.createElement("ul",{className:"notifications"},t&&t.map(function(e){return r.a.createElement(f.a,{key:e.id,to:{pathname:"/city/".concat(e.cityName)}}," ",r.a.createElement("li",{style:{lineHeight:"15px"}},r.a.createElement("p",{className:"teal-text"},e.user),r.a.createElement("p",null,e.content," "),r.a.createElement("p",{className:"grey-text note-date"},j()(e.time.toDate()).fromNow()),r.a.createElement(O.a,null)))}))},R=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=(e.cities,e.notifications);return console.log(t),r.a.createElement("div",{className:"dashboard container"},r.a.createElement("h1",null,"Dashboard"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12 m6"},r.a.createElement(w,null))),r.a.createElement("div",{className:"dashboard container"}))}}]),t}(n.Component),x=Object(N.b)(function(e){return{notifications:e.firestore.ordered.notifications}})(R),I=function(e){var t=e.itinerary,a=e.city;return console.log(t),r.a.createElement("div",{className:"card medium itinerary-list-item-card col s12 m6 xl4 mx-4"},r.a.createElement("div",{className:"card-image"},r.a.createElement("img",{src:t.photoURL,alt:"",className:"activator"})),r.a.createElement("div",{className:"card-content"},r.a.createElement("span",{className:"card-title itinerary-list-item-title activator"},t.title,r.a.createElement("i",{className:"material-icons right"},"more_vert")),r.a.createElement("div",{className:"itinerary-list-item-details red-text text-lighten-2"},r.a.createElement("p",null,t.duration,r.a.createElement("i",{className:"far fa-clock small red-text text-lighten-2"})),r.a.createElement("i",{className:"fas fa-2x fa-euro-sign small red-text text-lighten-2"}),r.a.createElement("p",null,t.price),r.a.createElement("i",{className:"far fa-2x fa-star red-text text-lighten-2"}),r.a.createElement("p",null,t.rating))),r.a.createElement("div",{className:"card-reveal white-text",id:"card-reveal"},r.a.createElement("span",{className:"center-align itinerary-list-item-title activator card-title"},r.a.createElement("i",{className:"material-icons right "},"close")),r.a.createElement("p",{className:"itinerary-list-item-summary"},t.summary),r.a.createElement("div",{className:"explore-itinerary-btn center-align"},r.a.createElement(f.a,{to:{pathname:"/city/".concat(a,"/itineraries/").concat(t.id),state:{itinerary_id:t._id}},className:"btn red lighten-2 "},"Explore This Itinerary"))))},U=(a(268),function(e){var t=e.itineraries,a=e.city;return r.a.createElement("div",{className:"itineraries-list section"},r.a.createElement("div",{className:"",id:"iti-List"},t&&t.map(function(e){return r.a.createElement(I,{itinerary:e,city:a,key:e.id})})))}),F=a(50),A=a.n(F),k=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={myCity:null},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.itineraries,a=e.city;e.cities;return console.log(this.props),r.a.createElement("div",{className:"dashboard container"},r.a.createElement("div",{className:"row valign-wrapper"},r.a.createElement("div",{className:"col s1"},r.a.createElement(f.a,{to:"/city"},r.a.createElement("div",{className:"btn-floating btn-large waves-effect waves-light red lighten-3"},r.a.createElement("i",{className:" white-text lighten-3 fas fa-2x fa-arrow-left "})))),r.a.createElement("h3",{className:"col s11"},a)),r.a.createElement("div",{className:""},r.a.createElement(U,{itineraries:t,city:a})),r.a.createElement("div",{className:"row"},r.a.createElement(f.a,{to:"/createItinerary"},r.a.createElement("div",{className:"btn-floating btn-large waves-effect waves-light red lighten-3"},r.a.createElement("i",{className:"material-icons"},"add")))))}}]),t}(n.Component),L=Object(v.firestoreConnect)([{collection:"itineraries",orderBy:["createdAt","desc"]},{collection:"cities",orderBy:["createdAt","desc"]}]),_=Object(y.d)(Object(N.b)(function(e,t){console.log(e.firestore);var a=t.match.params.name,n=e.firestore.ordered.itineraries,r=e.firestore.ordered.cities,i=n?n.filter(function(e){return e.cityName===a}):null,l=r?r.filter(function(e){return e.cityName===a}):null;return{itineraries:i,city:a,cities:l}}),L)(k),T=a(29),D=(a(185),a(81)),G=a.n(D),B=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={title:"",cityName:"",file:null,isUploading:!1,progress:0,photoURL:"",duration:null,price:null,rating:null,summary:null},a.handleChange=function(e){a.setState(Object(T.a)({},e.target.id,e.target.value))},a.handleSubmit=function(e){console.log(a.state),e.preventDefault(),a.props.createItinerary(a.state),a.props.history.push("/")},a.handleUpload=function(){var e=A.a.storage().ref();console.log(a.state.file.name),a.setState({isUploading:!0,progress:0}),e.child("itinerary/".concat(a.state.file.name)).put(a.state.file).on("state_changed",function(e){console.log(e);var t=Math.round(100*e.bytesTransferred/e.totalBytes);a.setState({progress:t})},function(e){console.log(e)},function(){console.log("success"),a.setState({isUploading:!1,progress:100}),A.a.storage().ref("itinerary").child("".concat(a.state.file.name)).getDownloadURL().then(function(e){return a.setState({photoURL:e})})})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){console.log(G.a),G.a.AutoInit()}},{key:"render",value:function(){var e=this,t={width:this.state.progress+"%"},a=this.props,n=a.cities,i=a.input;return console.log(n),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row valign-wrapper"},r.a.createElement("div",{className:"col s1"},r.a.createElement(f.a,{to:"/city"},r.a.createElement("div",{className:"btn-floating btn-large waves-effect waves-light red lighten-3"},r.a.createElement("i",{className:" white-text lighten-3 fas fa-2x fa-arrow-left "})))),r.a.createElement("h4",{className:"col s11"},"Create Itinerary")),r.a.createElement("form",{onSubmit:this.handleSubmit,className:"white"},r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"title"},"Title"),r.a.createElement("input",{required:!0,type:"text",id:"title",onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("select",{required:!0,onChange:this.handleChange,id:"cityName"},r.a.createElement("option",{value:"",disabled:!0,selected:!0},"Choose your option"),n&&n.map(function(e,t){return r.a.createElement("option",{htmlFor:"cityName",key:t,value:e.cityName},e.cityName)})),r.a.createElement("label",null,"Select City")),r.a.createElement("div",{className:"input-field"},r.a.createElement("select",{required:!0,onChange:this.handleChange,id:"price"},r.a.createElement("option",null,"Cheap"),r.a.createElement("option",null,"Moderate"),r.a.createElement("option",null,"Expensive")),r.a.createElement("label",{htmlFor:"price"},"Price")),r.a.createElement("div",{className:"input-field"},r.a.createElement("input",{required:!0,id:"duration",type:"text",length:"10",className:"materialize-textarea",onChange:this.handleChange}),r.a.createElement("label",{htmlFor:"duration"},"Duration in hours")),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{required:!0,htmlFor:"summary"},"Summary"),r.a.createElement("textarea",{id:"summary",cols:"30",rows:"10",className:"materialize-textarea",onChange:this.handleChange})),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s6 file-field input-field"},r.a.createElement("div",{className:"btn"},r.a.createElement("span",null,"File"),r.a.createElement("input",Object.assign({required:!0,accept:"image/*",type:"file"},i,{onChange:function(t){e.setState({file:t.target.files[0],isUploading:!0},e.handleUpload)}}))),r.a.createElement("div",{className:"file-path-wrapper "},r.a.createElement("input",{className:"file-path validate",type:"text"})),this.state.isUploading&&r.a.createElement("div",{className:"progress"},r.a.createElement("div",{className:"determinate",style:t}))),r.a.createElement("div",{className:"col s6"},this.state.photoURL&&r.a.createElement("img",{width:"100px",src:this.state.photoURL,alt:""}))),r.a.createElement("div",{className:"input-field"}),r.a.createElement("div",{className:"input-field"},r.a.createElement("button",{className:"btn pink lighten-1 z-depth-0"},"Create"))))}}]),t}(n.Component),P=Object(y.d)(Object(N.b)(function(e){return console.log(e),{cities:e.firestore.ordered.cities}},function(e){return{createItinerary:function(t){return e(function(e){return function(t,a,n){n.getFirebase;var r=n.getFirestore,i=a().firebase.profile,l=a().firebase.auth.uid;r().collection("itineraries").add({cityName:e.cityName,title:e.title,authorFirstName:i.firstName,authorLastName:i.lastName,authorId:l,photoURL:e.photoURL,summary:e.summary,price:e.price,rating:e.rating,duration:e.duration,createdAt:new Date}).then(function(){t({type:"CREATE_ITINERARY",itinerary:e})}).catch(function(e){t({type:"CREATE_ITINERARY_ERROR",err:e})})}}(t))}}}),Object(v.firestoreConnect)([{collection:"cities",orderBy:["createdAt","desc"]}]))(B),q=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=(e.itineraries,e.city);return console.log(this.props),r.a.createElement("div",{className:"dashboard container"},r.a.createElement("div",{className:"row"},r.a.createElement("h3",null,t),r.a.createElement("div",{className:"col s12 m6"},"Test"),r.a.createElement("div",{className:"col sm8 offset-m1"})),r.a.createElement("div",{className:"dashboard container"}))}}]),t}(n.Component),z=Object(y.d)(Object(N.b)(function(e,t){var a=t.match.params.id,n=e.firestore.ordered.activities;return{activities:n?n.filter(function(e){return e.itineraryId===a}):null}}),Object(v.firestoreConnect)([{collection:"activities",orderBy:["createdAt","desc"]}]))(q),Y=a(716),M=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:""},a.handleChange=function(e){a.setState(Object(T.a)({},e.target.id,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),a.props.signIn(a.state)},a.handleGoogleButton=function(e){e.preventDefault(),a.props.googleSignIn()},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.authErr;return e.auth.uid?r.a.createElement(Y.a,{to:"/"}):r.a.createElement("div",{className:"container w-50"},r.a.createElement("form",{onSubmit:this.handleSubmit,className:"white"},r.a.createElement("h5",{className:"grey-text text-darken-3"},"Sign In"),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{type:"email",id:"email",onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",id:"password",onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("button",{className:"btn teal lighten-1 z-depth-0"},"LOGIN"),r.a.createElement("div",{className:"red-text-center"},t?r.a.createElement("p",null,t):null)),r.a.createElement("hr",null),r.a.createElement("div",{className:"row"},r.a.createElement("p",{className:"col s8"},"Google account"),r.a.createElement("div",{className:"col s4"},r.a.createElement("a",{className:"btn-floating btn-large waves-effect waves-light teal lighten-1",onClick:this.handleGoogleButton},r.a.createElement("i",{className:" white-text lighten-3 fab fa-2x fa-google"}))))))}}]),t}(n.Component),W=Object(N.b)(function(e){return{authErr:e.auth.authErr,auth:e.firebase.auth}},function(e){return{signIn:function(t){return e((a=t,function(e,t,n){(0,n.getFirebase)().auth().signInWithEmailAndPassword(a.email,a.password).then(function(){e({type:"LOGIN_SUCCESS"})}).catch(function(t){e({type:"LOGIN_ERROR",err:t})})}));var a},googleSignIn:function(){return e(function(e,t,a){var n=a.getFirebase,r=a.getFirestore,i=n(),l=r(),c=new i.auth.GoogleAuthProvider;i.auth().signInWithPopup(c).then(function(e){return l.collection("users").doc(e.user.uid).set({firstName:e.user.displayName,lastName:"",initials:e.user.displayName[0]+e.user.displayName[1],avatar:e.user.photoURL})}).then(function(){e({type:"LOGIN_SUCCESS"})}).catch(function(t){e({type:"LOGIN_ERROR",err:t})})})}}})(M),H=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:"",firstName:"",lastName:""},a.handleChange=function(e){a.setState(Object(T.a)({},e.target.id,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),a.props.signUp(a.state)},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return this.props.auth.uid?r.a.createElement(Y.a,{to:"/"}):r.a.createElement("div",{className:"container"},r.a.createElement("form",{onSubmit:this.handleSubmit,className:"white"},r.a.createElement("h5",{className:"grey-text text-darken-3"},"Sign Up"),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{type:"email",id:"email",onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",id:"password",onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"firstName"},"First Name"),r.a.createElement("input",{type:"text",id:"firstName",onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"lastName"},"Last Name"),r.a.createElement("input",{type:"text",id:"lastName",onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("button",{className:"btn pink lighten-1 z-depth-0"},"SIGN UP"))))}}]),t}(n.Component),J=Object(N.b)(function(e){return{auth:e.firebase.auth}},function(e){return{signUp:function(t){return e(function(e){return function(t,a,n){var r=n.getFirebase,i=n.getFirestore,l=r(),c=i();l.auth().createUserWithEmailAndPassword(e.email,e.password).then(function(t){return c.collection("users").doc(t.user.uid).set({firstName:e.firstName,lastName:e.lastName,initials:e.firstName[0]+e.lastName[0]})}).then(function(){t({type:"SIGNUP_SUCCESS"})}).catch(function(e){t({type:"SIGNUP_ERROR"})})}}(t))}}})(H),K=a(188),Z=a.n(K),$=a(714),Q=Object(N.b)(null,function(e){return{signOut:function(){return e(function(e,t,a){(0,a.getFirebase)().auth().signOut().then(function(){e({type:"SIGNOUT_SUCCESSS"})})})}}})(function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("li",null,r.a.createElement($.a,{to:"/createItinerary"},"New itinerary")),r.a.createElement("li",null,r.a.createElement($.a,{to:"/createCity"},"New City")),r.a.createElement("li",null,r.a.createElement("a",{onClick:e.signOut},"Log Out")))}),V=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("li",null,r.a.createElement($.a,{to:"/signup"},"Sign Up")),r.a.createElement("li",null,r.a.createElement($.a,{to:"/signin"},"Log In")))},X=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=document.querySelectorAll(".sidenav"),t=(Z.a.Sidenav.init(e,t),{inDuration:250,outDuration:200,draggable:!0}),a=document.querySelectorAll(".dropdown-trigger");Z.a.Dropdown.init(a,{coverTrigger:!1,constrainWidth:!1})}},{key:"render",value:function(){var e=this.props,t=e.auth,a=e.profile,n=e.notifications,i=t.uid?r.a.createElement(Q,{profile:a}):r.a.createElement(V,null),l=a.avatar?r.a.createElement("img",{width:"50px",className:"circle valign-wrapper",src:a.avatar,alt:""}):r.a.createElement("div",{className:"btn btn-floating teal lighten-1"},a.initials);return r.a.createElement("div",{className:"container-fluid px-3"},r.a.createElement("nav",null,r.a.createElement("div",{className:"nav-wrapper"},r.a.createElement(f.a,{to:"/",className:""},"City Itineraries"),r.a.createElement("a",{href:"#","data-target":"mobile-demo",className:"sidenav-trigger"},r.a.createElement("i",{className:"material-icons"},"menu")),r.a.createElement("ul",{style:{paddingRight:"10px"},className:"right hide-on-med-and-down valign-wrapper pr3"},i,r.a.createElement("li",null,r.a.createElement("a",{className:"dropdown-trigger",href:"#!","data-target":"dropdown1"},r.a.createElement("i",{className:"material-icons right"},"notifications"))),r.a.createElement("li",null," ",l)))),r.a.createElement("ul",{id:"dropdown1",className:"dropdown-content"},r.a.createElement("li",null,r.a.createElement(S,{notifications:n}))),r.a.createElement("ul",{className:"sidenav",id:"mobile-demo"},r.a.createElement("li",null,t.uid&&r.a.createElement("div",{className:"user-view valign-wrapper"},r.a.createElement("div",{className:"background indigo lighten-4"}),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s4"},l),r.a.createElement("div",{className:"col s8"},r.a.createElement("span",{className:"black-text name"},a.firstName," ",a.lastName)))),!t.uid&&r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12"},r.a.createElement(W,null),"Not a user? ",r.a.createElement($.a,{to:"/signup"}," Sign Up")))),t.uid&&r.a.createElement(Q,{profile:a}),r.a.createElement("li",null,r.a.createElement("div",{className:"divider"}),r.a.createElement("span",{className:"teal-text"},"Notifications"),r.a.createElement(S,{notifications:n}))))}}]),t}(n.Component),ee=Object(y.d)(Object(N.b)(function(e){return{auth:e.firebase.auth,profile:e.firebase.profile,notifications:e.firestore.ordered.notifications}}),Object(v.firestoreConnect)([{collection:"notifications",limit:3,orderBy:["time","desc"]}]))(X),te=(a(680),a(294)),ae=a.n(te),ne=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={countryName:"",cityName:"",file:null,isUploading:!1,progress:0,photoURL:"",summary:null,options:ae()().getData(),value:""},a.changeSelectHandler=function(e){a.setState({value:e})},a.changeHandler=function(e){a.setState({value:e})},a.handleChange=function(e){a.setState(Object(T.a)({},e.target.id,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),a.props.createCity(a.state),a.props.history.push("/")},a.handleUpload=function(){var e=A.a.storage().ref();a.setState({isUploading:!0,progress:0}),e.child("cities/".concat(a.state.file.name)).put(a.state.file).on("state_changed",function(e){var t=Math.round(100*e.bytesTransferred/e.totalBytes);a.setState({progress:t})},function(e){console.log(e)},function(){console.log("success"),a.setState({isUploading:!1,progress:100}),A.a.storage().ref("cities").child("".concat(a.state.file.name)).getDownloadURL().then(function(e){console.log(e),a.setState({photoURL:e})})})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){G.a.AutoInit()}},{key:"render",value:function(){var e=this,t={width:this.state.progress+"%"},a=this.props,n=(a.cities,a.input);return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row valign-wrapper"},r.a.createElement("div",{className:"col s1"},r.a.createElement(f.a,{to:"/city"},r.a.createElement("div",{className:"btn-floating btn-large waves-effect waves-light red lighten-2"},r.a.createElement("i",{className:" white-text lighten-3 fas fa-2x fa-arrow-left "})))),r.a.createElement("h4",{className:"col s11"},"Create City")),r.a.createElement("form",{onSubmit:this.handleSubmit,className:"white"},r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"cityName"},"City name"),r.a.createElement("input",{required:!0,type:"text",id:"cityName",onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("select",{required:!0,value:this.state.value,onChange:this.handleChange,id:"countryName"},this.state.options&&this.state.options.map(function(e,t){return r.a.createElement("option",{htmlFor:"countryName",key:t,value:e.label},e.label)})),r.a.createElement("label",null,"Select Country")),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{required:!0,htmlFor:"summary"},"Summary"),r.a.createElement("textarea",{id:"summary",cols:"30",rows:"10",className:"materialize-textarea",onChange:this.handleChange})),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s6 file-field input-field"},r.a.createElement("div",{className:"btn"},r.a.createElement("span",null,"File"),r.a.createElement("input",Object.assign({required:!0,accept:"image/*",type:"file"},n,{onChange:function(t){e.setState({file:t.target.files[0],isUploading:!0},e.handleUpload)}}))),r.a.createElement("div",{className:"file-path-wrapper "},r.a.createElement("input",{className:"file-path validate",type:"text"})),this.state.isUploading&&r.a.createElement("div",{className:"progress"},r.a.createElement("div",{className:"determinate",style:t}))),r.a.createElement("div",{className:"col s6"},this.state.photoURL&&r.a.createElement("img",{width:"100px",src:this.state.photoURL,alt:""}))),r.a.createElement("div",{className:"input-field"}),r.a.createElement("div",{className:"input-field"},!this.isUploading&&r.a.createElement("button",{disabled:this.isUploading,className:"btn red lighten-2 z-depth-0"},"Create"))))}}]),t}(n.Component),re=Object(N.b)(null,function(e){return{createCity:function(t){return e(function(e){return function(t,a,n){n.getFirebase;var r=n.getFirestore,i=a().firebase.profile,l=a().firebase.auth.uid;r().collection("cities").add({cityName:e.cityName,countryName:e.countryName,authorFirstName:i.firstName,authorLastName:i.lastName,authorId:l,photoURL:e.photoURL,summary:e.summary,createdAt:new Date}).then(function(){t({type:"CREATE_CITY",city:e})}).catch(function(e){t({type:"CREATE_CITY_ERROR",err:e})})}}(t))}}})(ne),ie=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(d.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(ee,null),r.a.createElement(h.a,null,r.a.createElement(p.a,{exact:!0,path:"/",component:x}),r.a.createElement(p.a,{exact:!0,path:"/city",component:w}),r.a.createElement(p.a,{path:"/city/:name",component:_}),r.a.createElement(p.a,{path:"/city/:name/itinerary/:id",component:z}),r.a.createElement(p.a,{path:"/createItinerary",component:P}),r.a.createElement(p.a,{path:"/createCity",component:re}),r.a.createElement(p.a,{path:"/signin",component:W}),r.a.createElement(p.a,{path:"/signup",component:J}))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function le(){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}var ce=a(83),se={authErr:null},oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_ERROR":return console.log("login failed"),Object(ce.a)({},e,{authErr:"Login failed"});case"LOGIN_SUCCESS":return console.log("login success"),Object(ce.a)({},e,{authErr:null});case"SIGNOUT_SUCESS":return console.log("signout success"),e;case"SIGNUP_SUCCESS":return console.log("signup success"),Object(ce.a)({},e,{authErr:null});case"SIGNUP_ERROR":return console.log("signup faild"),Object(ce.a)({},e,{authErr:t.err.message});default:return e}},me=a(295),ue={cities:[{id:1,name:"Berlin",photo:a.n(me).a,details:"Welcome to Berlin"},{id:2,name:"Paris",details:"content2"}]},de=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_CITY":return console.log("created city",t.project),e;case"CREATE_CITY_ERROR":return console.log("create city error",t.err),e;default:return e}},he={},pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_ITINERARY":return console.log("created itinerary",t.project),e;case"CREATE_ITINERARY_ERROR":return console.log("create itinerary error",t.err),e;default:return e}},fe=a(82),Ee=Object(y.c)({auth:oe,city:de,itinerary:pe,firestore:fe.firestoreReducer,firebase:v.firebaseReducer}),ge=a(296),Ne=a(189),ve=a.n(Ne);a(710),a(711);ve.a.initializeApp({apiKey:"AIzaSyCtKC84podP-rj_fxclZg_1j7Cd7IwBGIk",authDomain:"city-itinerary.firebaseapp.com",databaseURL:"https://city-itinerary.firebaseio.com",projectId:"city-itinerary",storageBucket:"city-itinerary.appspot.com",messagingSenderId:"150124635351"});var ye=ve.a,be=Object(y.e)(Ee,Object(y.d)(Object(y.a)(ge.a.withExtraArgument({getFirebase:v.getFirebase,getFirestore:fe.getFirestore})),Object(fe.reduxFirestore)(ye),Object(v.reactReduxFirebase)(ye,{useFirestoreForProfile:!0,userProfile:"users",attachAuthIsReady:!0})));be.firebaseAuthIsReady.then(function(){l.a.render(r.a.createElement(N.a,{store:be},r.a.createElement(ie,null)),document.getElementById("root")),le()}),le()}},[[403,1,2]]]);
//# sourceMappingURL=main.97aab743.chunk.js.map