{"version":3,"sources":["assets/img/cover.png","assets/img/Berlin.jpg","components/city/MarcusCity.js","components/city/CityList.js","components/dashboard/CityChoice.js","components/dashboard/Notifications.js","components/dashboard/Dashboard.js","components/itinerary/MarcusItinerary.js","components/itinerary/ItineraryList.js","components/dashboard/ItineraryChoice.js","components/itinerary/CreateItinerary.js","store/action/itineraryAction.js","components/dashboard/ItineraryDetails.js","components/auth/SignIn.js","store/action/authActions.js","components/auth/SignUp.js","components/layout/SignedInLinks.js","components/layout/SignedOutLinks.js","components/layout/Sidenav.js","components/city/CreateCity.js","store/action/cityAction.js","App.js","serviceWorker.js","store/reducer/authReducer.js","store/reducer/cityReducer.js","store/reducer/itineraryReducer.js","store/reducer/rootReducer.js","config/firebaseConfig.js","index.js"],"names":["module","exports","__webpack_require__","p","MarcusCity","_ref","city","react_default","a","createElement","className","style","maxHeight","src","photoURL","alt","id","cityName","countryName","CityList","cities","map","Link","to","key","city_MarcusCity","CityChoice","_this$props","this","props","notifications","console","log","paddingTop","city_CityList","Component","compose","connect","state","firestore","ordered","firestoreConnect","collection","orderBy","Notifications","notif","pathname","concat","lineHeight","user","content","moment","time","toDate","fromNow","index_es","Dashboard","CoverImg","MarcusItinerary","itinerary","height","title","duration","price","rating","summary","itinerary_id","_id","ItineraryList","itineraries","itinerary_MarcusItinerary","ItineraryChoice","myCity","itinerary_ItineraryList","fconnect","ownProps","cityStr","match","params","name","itinerariesList","citiesList","filter","e","CreateItinerary","file","isUploading","progress","handleChange","_this","setState","Object","defineProperty","target","value","handleSubmit","preventDefault","createItinerary","history","push","handleUpload","storageRef","firebase","storage","ref","child","put","on","snapshot","prog","Math","round","bytesTransferred","totalBytes","error","getDownloadURL","then","url","M","AutoInit","_this2","progressBarUp","width","input","onSubmit","htmlFor","required","type","onChange","disabled","selected","i","length","cols","rows","assign","accept","files","dispatch","getState","getFirebase","getFirestore","profile","authorId","auth","uid","add","authorFirstName","firstName","authorLastName","lastName","createdAt","Date","catch","err","activitiesList","activities","itineraryId","SignIn","email","password","signIn","handleGoogleButton","googleSignIn","authErr","Redirect","onClick","creds","credentials","signInWithEmailAndPassword","_ref4","provider","GoogleAuthProvider","signInWithPopup","resp","doc","set","displayName","initials","avatar","SignUp","signUp","newUser","_ref3","createUserWithEmailAndPassword","signOut","_ref2","Fragment","NavLink","SignedOutLinks","Sidenav","elems","document","querySelectorAll","options","init","inDuration","outDuration","draggable","drop","Dropdown","coverTrigger","constrainWidth","links","layout_SignedInLinks","layout_SignedOutLinks","href","data-target","paddingRight","dashboard_Notifications","auth_SignIn","limit","CreateCity","countryList","getData","changeSelectHandler","changeHandler","createCity","country","label","App","BrowserRouter","layout_Sidenav","Switch","Route","exact","path","component","ItineraryDetails","Boolean","window","location","hostname","unregister","navigator","serviceWorker","ready","registration","initState","authReducer","arguments","undefined","action","objectSpread","message","photo","BerlinPhoto","details","cityReducer","project","itineraryReducer","rootReducer","combineReducers","firestoreReducer","firebaseReducer","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","store","createStore","applyMiddleware","thunk","withExtraArgument","reduxFirestore","firebaseConfig","reactReduxFirebase","useFirestoreForProfile","userProfile","attachAuthIsReady","firebaseAuthIsReady","ReactDOM","render","es","App_App","getElementById"],"mappings":"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","file":"static/js/main.02b042d3.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/cover.ef66c7e6.png\";","module.exports = __webpack_public_path__ + \"static/media/Berlin.0878793e.jpg\";","import React from 'react'\r\nimport './city.css'\r\n\r\n\r\nconst MarcusCity = ({ city }) => {\r\n    return (\r\n        <div className='card small' style={{ maxHeight: \"200px\" }} >\r\n            <div className='card-image' style={{ maxHeight: \"200px\" }}>\r\n                <img src={city.photoURL} alt='' />\r\n                <span id=\"city-card\" className='card-title black-text lighten-2 '>{city.cityName}, {city.countryName}</span>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default MarcusCity\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport MarcusCity from './MarcusCity'\r\n\r\nconst CityList = ({ cities }) => {\r\n    return (\r\n        <div className=\"cities-list section\">\r\n            {cities && cities.map(city => {\r\n                return (\r\n                    <Link to={'/city/' + city.cityName} key={city.cityName}>\r\n                        <MarcusCity city={city} />\r\n                    </Link>\r\n                )\r\n            })}\r\n        </div>\r\n    )\r\n}\r\nexport default CityList\r\n\r\n","import React, { Component } from 'react'\r\nimport CityList from '../city/CityList'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport { connect } from 'react-redux'\r\nimport { firestoreConnect } from 'react-redux-firebase'\r\nimport { compose } from 'redux'\r\nimport { Redirect } from 'react-router-dom'\r\n\r\n\r\nclass CityChoice extends Component {\r\n    render() {\r\n        const { cities, notifications } = this.props;\r\n        console.log(notifications)\r\n        return (\r\n            <div className=\"cities container\">\r\n                <div className=\"row valign-wrapper\">\r\n                    <div style={{ paddingTop: '10px' }} className=\"col s1\" >\r\n                        <Link to='/'>\r\n                            <div className=\"btn-floating btn-large waves-effect waves-light red lighten-3\"><i className=\"material-icons\">home</i></div>\r\n                        </Link>\r\n                    </div>\r\n                    <h3 className=\"col s11\" >\r\n                        Cities\r\n                        </h3>\r\n\r\n                </div>\r\n                <div className=\"\">\r\n\r\n                    <CityList cities={cities} />\r\n\r\n                </div>\r\n                <div className=\"row\">\r\n                    <Link to='/createCity'><div className=\"btn-floating btn-large waves-effect waves-light red lighten-3\">\r\n                        <i className=\"material-icons\">add</i></div></Link>\r\n                </div>\r\n            </div>\r\n\r\n        )\r\n    }\r\n}\r\nconst mapStatetoProps = (state) => {\r\n    //console.log(state)\r\n    return {\r\n        //cities: state.city.cities,\r\n        cities: state.firestore.ordered.cities,\r\n        // auth: state.firebase.auth,\r\n        notifications: state.firestore.ordered.notifications\r\n    }\r\n}\r\n//export default connect(mapStatetoProps)(Dashboard)\r\nexport default compose(\r\n    connect(mapStatetoProps),\r\n    firestoreConnect([\r\n        { collection: 'cities', orderBy: ['createdAt', 'desc'] }\r\n    ])\r\n)(CityChoice)","import React from 'react'\r\nimport { Divider } from '@material-ui/core';\r\nimport moment from 'moment'\r\nimport { Link } from 'react-router-dom'\r\n\r\n\r\nconst Notifications = (props) => {\r\n    const { notifications } = props\r\n    console.log(\"notif\", notifications)\r\n    return (\r\n\r\n        <ul className=\"notifications\">\r\n            {notifications && notifications.map(notif => {\r\n                return (\r\n                    <Link key={notif.id} to={{\r\n                        pathname: `/city/${notif.cityName}`,\r\n                    }}\r\n                    > <li style={{ lineHeight: '15px' }} >\r\n                            <p className=\"teal-text\">{notif.user}</p>\r\n                            <p>{notif.content} </p>\r\n                            <p className=\"grey-text note-date\">\r\n                                {moment(notif.time.toDate()).fromNow()}</p>\r\n                            <Divider />\r\n                        </li></Link>\r\n                )\r\n            }\r\n            )}\r\n\r\n        </ul>\r\n\r\n\r\n\r\n    )\r\n}\r\nexport default Notifications","import React, { Component } from 'react'\r\nimport CityChoice from './CityChoice'\r\nimport Notifications from './Notifications'\r\nimport { connect } from 'react-redux'\r\nimport { firestoreConnect } from 'react-redux-firebase'\r\nimport { compose } from 'redux'\r\nimport { Redirect } from 'react-router-dom'\r\nimport { Link } from 'react-router-dom'\r\nimport CoverImg from '../../assets/img/cover.png'\r\n\r\n\r\n\r\nclass Dashboard extends Component {\r\n    render() {\r\n\r\n        const { cities, notifications } = this.props;\r\n        console.log(notifications)\r\n        return (\r\n            <div className=\"dashboard container\">\r\n                <h1>Dashboard</h1>\r\n                <div className=\"row\">\r\n                    <Link to='/city'>\r\n                        <div className='card small' style={{ maxHeight: \"200px\" }} >\r\n                            <div className='card-image' style={{ maxHeight: \"200px\" }}>\r\n                                <img src={CoverImg} alt='' />\r\n                                <span id=\"city-card\" className='card-title white-text lighten-2 '>Cities</span>\r\n                            </div>\r\n                        </div></Link>\r\n\r\n\r\n\r\n                </div>\r\n\r\n                <div className=\"dashboard container\">\r\n\r\n                </div>\r\n\r\n            </div>\r\n\r\n        )\r\n    }\r\n}\r\nconst mapStatetoProps = (state) => {\r\n    //console.log(state)\r\n    return {\r\n        //cities: state.city.cities,\r\n        // projects: state.firestore.ordered.projects,\r\n        // auth: state.firebase.auth,\r\n        notifications: state.firestore.ordered.notifications\r\n    }\r\n}\r\nexport default connect(mapStatetoProps)(Dashboard)\r\n// export default compose(\r\n//     connect(mapStatetoProps),\r\n//     firestoreConnect([\r\n//         { collection: 'notifications', limit: 3, orderBy: ['time', 'desc'] }\r\n//     ])\r\n// )(Dashboard)","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\n\r\n\r\nconst MarcusItinerary = ({ itinerary, city }) => {\r\n    console.log(itinerary)\r\n    return (\r\n        <div style={{ height: \"300px\" }} className='card small itinerary-list-item-card col s12 m6 xl4 mx-4'>\r\n            <div className='card-image'>\r\n                <img src={itinerary.photoURL} alt='' className='activator' />\r\n                <span id=\"city-card\"\r\n                    className='itinerary-list-item-title activator card-title black-text lighten-2 '>\r\n                    {itinerary.title}\r\n                    <i className='material-icons right'>more_vert</i>\r\n                </span>\r\n            </div>\r\n            <div className='itinerary-list-item-details red-text text-lighten-2'>\r\n                <p>{itinerary.duration}<i className='far fa-clock small red-text text-lighten-2' /></p>\r\n                <i className='fas fa-2x fa-euro-sign small red-text text-lighten-2' />\r\n                <p>{itinerary.price}</p>\r\n                <i className='far fa-2x fa-star red-text text-lighten-2' />\r\n                <p>{itinerary.rating}</p>\r\n            </div>\r\n            <div className='card-reveal white-text' id='card-reveal'>\r\n                <span className='center-align itinerary-list-item-title activator card-title'>\r\n                    <i className='material-icons right '>close</i>\r\n                </span>\r\n                <p className='itinerary-list-item-summary'>{itinerary.summary}</p>\r\n\r\n                <div className='explore-itinerary-btn center-align'>\r\n                    <Link to={{\r\n                        pathname: `/city/${city}/itineraries/${itinerary.id}`,\r\n                        state: {\r\n                            itinerary_id: itinerary._id\r\n                        }\r\n                    }}\r\n                        className='btn red lighten-2 '\r\n                    >\r\n                        Explore This Itinerary\r\n           </Link>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default MarcusItinerary\r\n\r\n","import React from 'react'\r\nimport MarcusItnerary from './MarcusItinerary'\r\nimport './itinerary.css'\r\n\r\n\r\nconst ItineraryList = ({ itineraries, city }) => {\r\n    return (\r\n        <div className=\"itineraries-list section\">\r\n\r\n            <div className=\"\" id=\"iti-List\">\r\n\r\n                {itineraries && itineraries.map(itinerary => {\r\n                    return (\r\n\r\n                        <MarcusItnerary itinerary={itinerary} city={city} key={itinerary.id} />\r\n\r\n                    )\r\n                })}\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default ItineraryList\r\n\r\n","import React, { Component } from 'react'\r\nimport ItineraryList from '../itinerary/ItineraryList'\r\nimport { connect } from 'react-redux'\r\nimport { firestoreConnect } from 'react-redux-firebase'\r\n//import { compose, withHandlers, lifecycle } from 'recompose'\r\nimport { compose } from 'redux'\r\nimport { Link } from 'react-router-dom'\r\nimport firebase from \"firebase\";\r\nimport { withFirestore, isLoaded, isEmpty } from 'react-redux-firebase'\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass ItineraryChoice extends Component {\r\n    state = {\r\n        myCity: null\r\n    }\r\n    componentDidMount() {\r\n        // const param = this.props.match.params.name\r\n\r\n        // firebase\r\n        //     .firestore()\r\n        //     .collection(\"cities\")\r\n        //     .where(\"cityName\", '==', param)\r\n        //     .get()\r\n        //     .then(querySnapshot => {\r\n        //         const cities = [];\r\n        //         querySnapshot.forEach(function (doc) {\r\n\r\n        //             cities.push(doc.data())\r\n        //         })\r\n        //         const myCity = cities[0]\r\n        //         console.log(myCity)\r\n        //         this.setState({ myCity });\r\n\r\n        //     })\r\n        //     .catch(function (error) {\r\n        //         console.log(\"Error getting documents: \", error);\r\n        //     });\r\n    }\r\n\r\n    render() {\r\n        const { itineraries, city, cities } = this.props;\r\n        console.log(this.props)\r\n        return (\r\n            <div className=\"dashboard container\">\r\n                <div className=\"row valign-wrapper\" >\r\n                    <div className=\"col s1\" >\r\n                        <Link to='/city'><div className=\"btn-floating btn-large waves-effect waves-light red lighten-3\">\r\n                            <i className=\" white-text lighten-3 fas fa-2x fa-arrow-left \" /></div></Link>\r\n                    </div>\r\n                    <h3 className=\"col s11\" >\r\n                        {city}\r\n                    </h3>\r\n                </div>\r\n\r\n                <div className=\"\">\r\n                    <ItineraryList itineraries={itineraries} city={city} />\r\n                </div>\r\n                <div className=\"row\">\r\n                    <Link to='/createItinerary'><div className=\"btn-floating btn-large waves-effect waves-light red lighten-3\">\r\n                        <i className=\"material-icons\">add</i></div></Link>\r\n                </div>\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\nconst mapStateToProps = (state, ownProps) => {\r\n    console.log(state.firestore)\r\n\r\n    const cityStr = ownProps.match.params.name\r\n    const itinerariesList = state.firestore.ordered.itineraries\r\n    const citiesList = state.firestore.ordered.cities\r\n    const itineraries = itinerariesList ? itinerariesList.filter(e => {\r\n        return e.cityName === cityStr\r\n    }) : null\r\n\r\n    const cities = citiesList ? citiesList.filter(e => {\r\n        return e.cityName === cityStr\r\n    }) : null\r\n\r\n    return {\r\n        itineraries: itineraries,\r\n        city: cityStr,\r\n        cities: cities\r\n        // auth: state.firebase.auth,\r\n        //         // notifications: state.firestore.ordered.notifications\r\n    }\r\n}\r\nconst fconnect = firestoreConnect([\r\n    { collection: 'itineraries', orderBy: ['createdAt', 'desc'] },\r\n    { collection: 'cities', orderBy: ['createdAt', 'desc'] }\r\n\r\n    // {\r\n    //     collection: 'cities',\r\n    //     where: [\r\n    //         ['cityName', '==', 'London']\r\n    //     ]\r\n\r\n    // }\r\n])\r\n\r\n//export default connect(mapStateToProps)(ItineraryChoice)\r\nexport default compose(\r\n    connect(mapStateToProps),\r\n    fconnect)(ItineraryChoice)\r\n\r\n\r\n// const enhance = compose(\r\n//     withFirestore, // add firestore to props\r\n//     lifecycle({\r\n//         componentDidMount() {\r\n//             console.log(this.props.match.params.name)\r\n//             this.props.firestore.collection('cities').get() // equivalent without withHandlers\r\n//             this.props.firestore.get('itineraries')\r\n//         }\r\n//     }),\r\n//     connect((state) => ({\r\n//         myCity: state.firestore.ordered.cities,\r\n//         itineraries: state.firestore.ordered.itineraries\r\n//     }))\r\n// )\r\n\r\n// export default enhance(ItineraryChoice)\r\n","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { createItinerary } from '../../store/action/itineraryAction'\r\nimport { Link } from 'react-router-dom'\r\nimport { compose } from 'redux'\r\nimport firebase from \"firebase\";\r\nimport './itinerary.css'\r\nimport { firestoreConnect } from 'react-redux-firebase'\r\nimport 'materialize-css/dist/css/materialize.min.css'\r\nimport M from 'materialize-css/dist/js/materialize.min.js'\r\nimport { bindActionCreators } from 'redux'\r\n\r\n\r\nclass CreateItinerary extends Component {\r\n\r\n    componentDidMount() {\r\n        console.log(M);\r\n        M.AutoInit();\r\n\r\n    }\r\n    state = {\r\n        title: '',\r\n        cityName: '',\r\n        file: null,\r\n        isUploading: false,\r\n        progress: 0,\r\n        photoURL: \"\",\r\n        duration: null,\r\n        price: null,\r\n        rating: null,\r\n        summary: null\r\n\r\n    }\r\n    handleChange = (e) => {\r\n        this.setState({\r\n            [e.target.id]: e.target.value\r\n        })\r\n    }\r\n    handleSubmit = (e) => {\r\n        console.log(this.state)\r\n        e.preventDefault();\r\n        this.props.createItinerary(this.state)\r\n        this.props.history.push('/')\r\n    }\r\n    handleUpload = () => {\r\n        const storageService = firebase.storage();\r\n        const storageRef = storageService.ref();\r\n\r\n        console.log(this.state.file.name)\r\n        this.setState({ isUploading: true, progress: 0 })\r\n\r\n        const uploadTask = storageRef.child(`itinerary/${this.state.file.name}`).put(this.state.file); //create a child directory called images, and place the file inside this directory\r\n\r\n        uploadTask.on('state_changed', (snapshot) => {\r\n            console.log(snapshot)\r\n            let prog = Math.round(snapshot.bytesTransferred * 100 / snapshot.totalBytes)\r\n            this.setState({ progress: prog });\r\n\r\n        }, (error) => {\r\n\r\n            console.log(error);\r\n        }, () => {\r\n            console.log('success');\r\n            this.setState({ isUploading: false, progress: 100 })\r\n            firebase\r\n                .storage()\r\n                .ref(\"itinerary\")\r\n                .child(`${this.state.file.name}`)\r\n                .getDownloadURL()\r\n                .then(url => this.setState({ photoURL: url }));\r\n\r\n        });\r\n    }\r\n\r\n\r\n    render() {\r\n        const progressBarUp = {\r\n            width: this.state.progress + \"%\"\r\n        }\r\n        const { cities, input } = this.props\r\n        //if (!auth.uid) return <Redirect to='/signin' />\r\n        console.log(cities)\r\n        return (\r\n            <div className=\"container\">\r\n                <div className=\"row valign-wrapper\">\r\n                    <div className=\"col s1\" >\r\n                        <Link to='/city'><div className=\"btn-floating btn-large waves-effect waves-light red lighten-3\">\r\n                            <i className=\" white-text lighten-3 fas fa-2x fa-arrow-left \" /></div></Link>\r\n                    </div>\r\n                    <h4 className=\"col s11\" >\r\n                        Create Itinerary\r\n                    </h4>\r\n                </div>\r\n                <form onSubmit={this.handleSubmit} className=\"white\">\r\n\r\n\r\n\r\n                    <div className=\"input-field\">\r\n                        <label htmlFor=\"title\" >Title</label>\r\n                        <input required type=\"text\" id=\"title\" onChange={this.handleChange} />\r\n                    </div>\r\n\r\n                    <div className=\"input-field\">\r\n\r\n                        <select required onChange={this.handleChange} id=\"cityName\">\r\n                            <option value=\"\" disabled selected>Choose your option</option>\r\n\r\n\r\n                            {cities && cities.map((city, i) => {\r\n                                return (\r\n                                    <option htmlFor=\"cityName\" key={i} value={city.cityName}>{city.cityName}</option>\r\n\r\n                                )\r\n                            })}\r\n                        </select>\r\n                        <label>Select City</label>\r\n                    </div>\r\n                    <div className=\"input-field\">\r\n                        <select required onChange={this.handleChange} id=\"price\">\r\n                            <option >Cheap</option>\r\n                            <option >Moderate</option>\r\n                            <option >Expensive</option>\r\n                        </select>\r\n                        <label htmlFor=\"price\">Price</label>\r\n                    </div>\r\n                    <div className=\"input-field\">\r\n                        <input required id=\"duration\" type=\"text\" length=\"10\" className=\"materialize-textarea\" onChange={this.handleChange} />\r\n                        <label htmlFor=\"duration\">Duration in hours</label>\r\n                    </div>\r\n\r\n                    <div className=\"input-field\">\r\n                        <label required htmlFor=\"summary\" >Summary</label>\r\n                        <textarea id=\"summary\" cols=\"30\" rows=\"10\" className=\"materialize-textarea\" onChange={this.handleChange}></textarea>\r\n                    </div>\r\n                    <div className=\"row\">\r\n                        <div className=\"col s6 file-field input-field\">\r\n                            <div className=\"btn\">\r\n                                <span>File</span>\r\n                                <input required accept=\"image/*\" type=\"file\" {...input} onChange={(e) => {\r\n                                    this.setState({ file: e.target.files[0], isUploading: true }, this.handleUpload)\r\n                                }} />\r\n                            </div>\r\n                            <div className=\"file-path-wrapper \">\r\n                                <input className=\"file-path validate\" type=\"text\" />\r\n                            </div>\r\n                            {this.state.isUploading && <div className=\"progress\">\r\n                                <div className=\"determinate\" style={progressBarUp}></div>\r\n                            </div>}\r\n                        </div>\r\n                        <div className=\"col s6\">\r\n\r\n                            {this.state.photoURL && <img width=\"100px\" src={this.state.photoURL} alt=\"\" />}\r\n                        </div>\r\n\r\n                    </div>\r\n                    <div className=\"input-field\">\r\n\r\n\r\n\r\n\r\n                    </div>\r\n                    <div className=\"input-field\">\r\n                        <button className=\"btn pink lighten-1 z-depth-0\">Create</button>\r\n                    </div>\r\n                </form>\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n\r\n        createItinerary: (itinerary) => dispatch(createItinerary(itinerary))\r\n\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    console.log(state)\r\n    return {\r\n        cities: state.firestore.ordered.cities,\r\n\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, mapDispatchToProps),\r\n    firestoreConnect([\r\n        { collection: 'cities', orderBy: ['createdAt', 'desc'] }\r\n    ]),\r\n)(CreateItinerary)\r\n\r\n// export default compose(\r\n//     connect(mapStatetoProps), \r\n//     firestoreConnect([\r\n//         { collection: 'cities', orderBy: ['createdAt', 'desc'] }\r\n//     ])\r\n// )(CreateItinerary)\r\n\r\n\r\n\r\n\r\n","\r\nexport const createItinerary = (itinerary) => {\r\n    //WHITHOUT THUNK\r\n    // return {\r\n    //     type: 'ADD_PROJECT',\r\n    //     project: project\r\n    // }\r\n\r\n    return (dispatch, getState, {\r\n        getFirebase,\r\n        getFirestore\r\n    }) => {\r\n        const profile = getState().firebase.profile\r\n        const authorId = getState().firebase.auth.uid\r\n        const firestore = getFirestore();\r\n        firestore.collection('itineraries').add({\r\n            //...itinerary,\r\n            cityName: itinerary.cityName,\r\n            title: itinerary.title,\r\n            authorFirstName: profile.firstName,\r\n            authorLastName: profile.lastName,\r\n            authorId: authorId,\r\n            photoURL: itinerary.photoURL,\r\n            summary: itinerary.summary,\r\n            price: itinerary.price,\r\n            rating: itinerary.rating,\r\n            duration: itinerary.duration,\r\n            createdAt: new Date()\r\n        }).then(() => {\r\n            dispatch({\r\n                type: 'CREATE_ITINERARY',\r\n                itinerary\r\n            });\r\n        }).catch((err) => {\r\n            dispatch({\r\n                type: 'CREATE_ITINERARY_ERROR',\r\n                err\r\n            })\r\n        })\r\n\r\n    }\r\n}","import React, { Component } from 'react'\r\nimport ItineraryList from '../itinerary/ItineraryList'\r\nimport { connect } from 'react-redux'\r\nimport { firestoreConnect } from 'react-redux-firebase'\r\nimport { compose } from 'redux'\r\nimport { Redirect } from 'react-router-dom'\r\n\r\n\r\nclass ItineraryChoice extends Component {\r\n    render() {\r\n        const { itineraries, city } = this.props;\r\n        console.log(this.props)\r\n        return (\r\n            <div className=\"dashboard container\">\r\n                <div className=\"row\">\r\n                    <h3>{city}</h3>\r\n                    <div className=\"col s12 m6\">\r\n                        Test\r\n                    </div>\r\n\r\n                    <div className=\"col sm8 offset-m1\">\r\n\r\n                    </div>\r\n\r\n                </div>\r\n                <div className=\"dashboard container\">\r\n\r\n                </div>\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\nconst mapStateToProps = (state, ownProps) => {\r\n    const itinerary = ownProps.match.params.id\r\n    const activitiesList = state.firestore.ordered.activities\r\n    const activities = activitiesList ? activitiesList.filter(e => {\r\n        return e.itineraryId === itinerary\r\n    }) : null\r\n    return {\r\n        activities: activities\r\n\r\n        // auth: state.firebase.auth,\r\n        //         // notifications: state.firestore.ordered.notifications\r\n    }\r\n}\r\n/*\r\nconst mapStateToProps = (state, ownProps) => {\r\n    const city = ownProps.match.params.name\r\n    const itineraries = state.itinerary.itineraries.filter(e => {\r\n        return e.cityName === city\r\n    })\r\n    return {\r\n        itineraries: itineraries\r\n    }\r\n}*/\r\n\r\n\r\n//export default connect(mapStateToProps)(ItineraryChoice)\r\nexport default compose(\r\n    connect(mapStateToProps),\r\n    firestoreConnect([\r\n        { collection: 'activities', orderBy: ['createdAt', 'desc'] }\r\n\r\n    ]))(ItineraryChoice)\r\n","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { signIn } from '../../store/action/authActions'\r\nimport { googleSignIn } from '../../store/action/authActions'\r\nimport { Redirect } from 'react-router-dom'\r\n\r\nclass SignIn extends Component {\r\n    state = {\r\n        email: '',\r\n        password: ''\r\n\r\n    }\r\n    handleChange = (e) => {\r\n        this.setState({\r\n            [e.target.id]: e.target.value\r\n        })\r\n    }\r\n    handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        this.props.signIn(this.state)\r\n    }\r\n    handleGoogleButton = (e) => {\r\n        e.preventDefault();\r\n        this.props.googleSignIn()\r\n    }\r\n    render() {\r\n        const { authErr, auth } = this.props\r\n        if (auth.uid) return <Redirect to='/' />\r\n        return (\r\n            <div className=\"container w-50\">\r\n                <form onSubmit={this.handleSubmit} className=\"white\">\r\n                    <h5 className=\"grey-text text-darken-3\">Sign In</h5>\r\n                    <div className=\"input-field\">\r\n                        <label htmlFor=\"email\" >Email</label>\r\n                        <input type=\"email\" id=\"email\" onChange={this.handleChange} />\r\n                    </div>\r\n                    <div className=\"input-field\">\r\n                        <label htmlFor=\"password\" >Password</label>\r\n                        <input type=\"password\" id=\"password\" onChange={this.handleChange} />\r\n                    </div>\r\n                    <div className=\"input-field\">\r\n                        <button className=\"btn teal lighten-1 z-depth-0\">LOGIN</button>\r\n\r\n                        <div className=\"red-text-center\">\r\n                            {authErr ? <p>{authErr}</p> : null}\r\n                        </div>\r\n                    </div>\r\n                    <hr />\r\n                    <div className=\"row\">\r\n                        <p className='col s8' >Google account</p>\r\n                        <div className=\"col s4\"><a className=\"btn-floating btn-large waves-effect waves-light teal lighten-1\" onClick={this.handleGoogleButton}>\r\n                            <i className=\" white-text lighten-3 fab fa-2x fa-google\" /></a></div>\r\n\r\n                    </div>\r\n\r\n\r\n\r\n\r\n                </form>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nconst mapStateToProp = (state) => {\r\n    return {\r\n        authErr: state.auth.authErr,\r\n        auth: state.firebase.auth\r\n    }\r\n}\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        signIn: (creds) => dispatch(signIn(creds)),\r\n        googleSignIn: () => dispatch(googleSignIn())\r\n\r\n    }\r\n}\r\nexport default connect(mapStateToProp, mapDispatchToProps)(SignIn)\r\n","\r\nexport const signIn = (credentials) => {\r\n    return (dispatch, getState, {\r\n        getFirebase\r\n    }) => {\r\n        const firebase = getFirebase()\r\n\r\n        firebase.auth().signInWithEmailAndPassword(\r\n            credentials.email, credentials.password\r\n        ).then(() => {\r\n            dispatch({\r\n                type: 'LOGIN_SUCCESS'\r\n            })\r\n        }).catch((err) => {\r\n            dispatch({\r\n                type: 'LOGIN_ERROR',\r\n                err\r\n            })\r\n        })\r\n    }\r\n}\r\n\r\nexport const signOut = () => {\r\n    return (dispatch, getState, {\r\n        getFirebase\r\n    }) => {\r\n        const firebase = getFirebase()\r\n\r\n        firebase.auth().signOut().then(() => {\r\n            dispatch({\r\n                type: 'SIGNOUT_SUCCESSS'\r\n            })\r\n        })\r\n    }\r\n}\r\n\r\nexport const signUp = (newUser) => {\r\n    return (dispatch, getState, {\r\n        getFirebase,\r\n        getFirestore\r\n    }) => {\r\n        const firebase = getFirebase()\r\n        const firestore = getFirestore()\r\n\r\n        firebase.auth().createUserWithEmailAndPassword(\r\n            newUser.email,\r\n            newUser.password\r\n        ).then((resp) => {\r\n            return firestore.collection('users').doc(resp.user.uid).set({\r\n                firstName: newUser.firstName,\r\n                lastName: newUser.lastName,\r\n                initials: newUser.firstName[0] + newUser.lastName[0]\r\n            })\r\n\r\n        }).then(() => {\r\n            dispatch({\r\n                type: 'SIGNUP_SUCCESS'\r\n            })\r\n        }).catch(err => {\r\n            dispatch({\r\n                type: 'SIGNUP_ERROR'\r\n            })\r\n        })\r\n    }\r\n}\r\n\r\nexport const googleSignIn = () => {\r\n    return (dispatch, getState, { getFirebase, getFirestore }) => {\r\n        const firebase = getFirebase()\r\n        const firestore = getFirestore()\r\n        const provider = new firebase.auth.GoogleAuthProvider();\r\n        firebase\r\n            .auth()\r\n            .signInWithPopup(provider)\r\n            .then((resp) => {\r\n                return firestore.collection('users').doc(resp.user.uid).set({\r\n                    firstName: resp.user.displayName,\r\n                    lastName: '',\r\n                    initials: resp.user.displayName[0] + resp.user.displayName[1],\r\n                    avatar: resp.user.photoURL\r\n\r\n                })\r\n            })\r\n            .then(() => {\r\n                dispatch({\r\n                    type: 'LOGIN_SUCCESS'\r\n                })\r\n            })\r\n            .catch((err) => {\r\n                dispatch({\r\n                    type: 'LOGIN_ERROR',\r\n                    err\r\n                })\r\n            })\r\n    }\r\n}","\r\nimport React, { Component } from 'react'\r\nimport { Redirect } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport { signUp } from '../../store/action/authActions'\r\n\r\nclass SignUp extends Component {\r\n    state = {\r\n        email: '',\r\n        password: '',\r\n        firstName: '',\r\n        lastName: ''\r\n\r\n    }\r\n    handleChange = (e) => {\r\n        this.setState({\r\n            [e.target.id]: e.target.value\r\n        })\r\n    }\r\n    handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        this.props.signUp(this.state)\r\n    }\r\n    render() {\r\n        const { auth } = this.props\r\n        if (auth.uid) return <Redirect to='/' />\r\n        return (\r\n            <div className=\"container\">\r\n                <form onSubmit={this.handleSubmit} className=\"white\">\r\n                    <h5 className=\"grey-text text-darken-3\">Sign Up</h5>\r\n                    <div className=\"input-field\">\r\n                        <label htmlFor=\"email\" >Email</label>\r\n                        <input type=\"email\" id=\"email\" onChange={this.handleChange} />\r\n                    </div>\r\n                    <div className=\"input-field\">\r\n                        <label htmlFor=\"password\" >Password</label>\r\n                        <input type=\"password\" id=\"password\" onChange={this.handleChange} />\r\n                    </div>\r\n                    <div className=\"input-field\">\r\n                        <label htmlFor=\"firstName\" >First Name</label>\r\n                        <input type=\"text\" id=\"firstName\" onChange={this.handleChange} />\r\n                    </div>\r\n                    <div className=\"input-field\">\r\n                        <label htmlFor=\"lastName\" >Last Name</label>\r\n                        <input type=\"text\" id=\"lastName\" onChange={this.handleChange} />\r\n                    </div>\r\n                    <div className=\"input-field\">\r\n                        <button className=\"btn pink lighten-1 z-depth-0\">SIGN UP</button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        auth: state.firebase.auth\r\n    }\r\n}\r\nconst mapDispachtToProps = (dispatch) => {\r\n    return {\r\n        signUp: (newUser) => dispatch(signUp(newUser))\r\n    }\r\n}\r\nexport default connect(mapStateToProps, mapDispachtToProps)(SignUp)\r\n\r\n","import React from 'react'\r\nimport { NavLink } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport { signOut } from '../../store/action/authActions'\r\n\r\nconst style = {\r\n   margin: '15px',\r\n   border: '3px solid teal'\r\n};\r\nconst SignedInLinks = (props) => {\r\n   return (\r\n\r\n      <>\r\n         <li><NavLink to='/createItinerary'>New itinerary</NavLink></li>\r\n         <li><NavLink to='/createCity'>New City</NavLink></li>\r\n         <li><a onClick={props.signOut}>Log Out</a></li>\r\n      </>\r\n\r\n   )\r\n}\r\nconst mapDispatchToprops = (dispatch) => {\r\n   return {\r\n      signOut: () => dispatch(signOut())\r\n   }\r\n}\r\n\r\nexport default connect(null, mapDispatchToprops)(SignedInLinks)","import React from 'react'\r\nimport { NavLink } from 'react-router-dom'\r\n\r\nconst SignedOutLinks = () => {\r\n   return (\r\n\r\n      <>\r\n         <li><NavLink to='/signup'>Sign Up</NavLink></li>\r\n         <li><NavLink to='/signin'>Log In</NavLink></li>\r\n      </>\r\n\r\n\r\n\r\n\r\n   )\r\n}\r\nexport default SignedOutLinks;","import React, { Component } from \"react\";\r\nimport M from \"materialize-css\";\r\nimport \"materialize-css/dist/css/materialize.min.css\";\r\nimport { Link } from 'react-router-dom'\r\nimport SignedInLinks from './SignedInLinks'\r\nimport SignedOutLinks from './SignedOutLinks'\r\nimport { connect } from 'react-redux'\r\nimport Notifications from '../dashboard/Notifications'\r\nimport { compose } from 'redux'\r\nimport { firestoreConnect } from 'react-redux-firebase'\r\nimport SignIn from '../auth/SignIn'\r\nimport { NavLink } from 'react-router-dom'\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass Sidenav extends Component {\r\n    componentDidMount() {\r\n        var elems = document.querySelectorAll('.sidenav');\r\n        var instances = M.Sidenav.init(elems, options);\r\n        const options = {\r\n            inDuration: 250,\r\n            outDuration: 200,\r\n            draggable: true\r\n        };\r\n\r\n        var drop = document.querySelectorAll('.dropdown-trigger')\r\n        var instanceDrop = M.Dropdown.init(drop, {\r\n            coverTrigger: false,\r\n            constrainWidth: false,\r\n\r\n        });\r\n\r\n\r\n    }\r\n    render() {\r\n        const { auth, profile, notifications } = this.props\r\n\r\n        const links = auth.uid ? <SignedInLinks profile={profile} /> : <SignedOutLinks />\r\n        const avatar = profile.avatar ? <img width=\"50px\" className=\"circle valign-wrapper\" src={profile.avatar} alt=\"\" /> : <div className='btn btn-floating teal lighten-1'>{profile.initials}</div>\r\n\r\n        return (\r\n\r\n            <div className=\"container-fluid px-3\">\r\n                <nav>\r\n                    <div className=\"nav-wrapper\">\r\n\r\n                        <Link to='/' className=\"\" >City Itineraries</Link>\r\n                        <a href=\"#\" data-target=\"mobile-demo\" className=\"sidenav-trigger\"><i className=\"material-icons\">menu</i></a>\r\n                        <ul style={{ paddingRight: \"10px\" }} className=\"right hide-on-med-and-down valign-wrapper pr3\">\r\n                            {links}\r\n\r\n                            <li><a className=\"dropdown-trigger\" href=\"#!\" data-target=\"dropdown1\"><i className=\"material-icons right\">notifications</i></a></li>\r\n\r\n                            <li> {avatar}</li>\r\n\r\n\r\n\r\n                        </ul>\r\n                    </div>\r\n                </nav>\r\n                <ul id=\"dropdown1\" className=\"dropdown-content\">\r\n                    <li><Notifications notifications={notifications} /></li>\r\n\r\n                </ul>\r\n\r\n                <ul className=\"sidenav\" id=\"mobile-demo\">\r\n                    <li>\r\n                        {auth.uid && <div className=\"user-view valign-wrapper\">\r\n                            <div className=\"background indigo lighten-4\">\r\n                                {/* <img src={BerlinPhoto} alt=\"\" /> */}\r\n                            </div>\r\n                            <div className=\"row\">\r\n                                <div className=\"col s4\">\r\n                                    {avatar}\r\n                                </div>\r\n                                <div className=\"col s8\">\r\n                                    <span className=\"black-text name\">{profile.firstName} {profile.lastName}</span>\r\n                                </div>\r\n                            </div>\r\n                        </div>}\r\n                        {!auth.uid && <div className=\"row\">\r\n                            <div className=\"col s12\">\r\n                                <SignIn />\r\n                                Not a user? <NavLink to='/signup'> Sign Up</NavLink>\r\n                            </div>\r\n\r\n\r\n                        </div>}\r\n                    </li>\r\n                    {auth.uid && <SignedInLinks profile={profile} />}\r\n\r\n                    <li>\r\n                        <div className=\"divider\" />\r\n                        <span className=\"teal-text\">Notifications</span>\r\n\r\n                        <Notifications notifications={notifications} />\r\n\r\n                    </li>\r\n\r\n                </ul>\r\n\r\n\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    //console.log(state)\r\n    return {\r\n        auth: state.firebase.auth,\r\n        profile: state.firebase.profile,\r\n        notifications: state.firestore.ordered.notifications\r\n    }\r\n}\r\n//export default connect(mapStateToProps)(Sidenav);\r\nexport default compose(\r\n    connect(mapStateToProps),\r\n    firestoreConnect([\r\n        { collection: 'notifications', limit: 3, orderBy: ['time', 'desc'] }\r\n    ])\r\n)(Sidenav)","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { createCity } from '../../store/action/cityAction'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport firebase from \"firebase\";\r\n\r\nimport countryList from 'react-select-country-list'\r\nimport 'materialize-css/dist/css/materialize.min.css'\r\nimport M from 'materialize-css/dist/js/materialize.min.js'\r\n\r\n\r\n\r\n\r\nclass CreateCity extends Component {\r\n\r\n    componentDidMount() {\r\n        M.AutoInit();\r\n\r\n\r\n    }\r\n\r\n    state = {\r\n        countryName: '',\r\n        cityName: '',\r\n        file: null,\r\n        isUploading: false,\r\n        progress: 0,\r\n        photoURL: \"\",\r\n        summary: null,\r\n        options: countryList().getData(),\r\n        value: \"\",\r\n\r\n    }\r\n\r\n\r\n    changeSelectHandler = value => {\r\n        this.setState({ value })\r\n    }\r\n\r\n    changeHandler = value => {\r\n        this.setState({ value })\r\n    }\r\n\r\n    handleChange = (e) => {\r\n        this.setState({\r\n            [e.target.id]: e.target.value\r\n        })\r\n    }\r\n    handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        this.props.createCity(this.state)\r\n        this.props.history.push('/')\r\n    }\r\n    handleUpload = () => {\r\n        const storageService = firebase.storage();\r\n        const storageRef = storageService.ref();\r\n        this.setState({ isUploading: true, progress: 0 })\r\n\r\n        const uploadTask = storageRef.child(`cities/${this.state.file.name}`).put(this.state.file); //create a child directory called images, and place the file inside this directory\r\n\r\n        uploadTask.on('state_changed', (snapshot) => {\r\n            let prog = Math.round(snapshot.bytesTransferred * 100 / snapshot.totalBytes)\r\n            this.setState({ progress: prog });\r\n\r\n        }, (error) => {\r\n\r\n            console.log(error);\r\n        }, () => {\r\n            console.log('success');\r\n            this.setState({ isUploading: false, progress: 100 })\r\n            firebase\r\n                .storage()\r\n                .ref(\"cities\")\r\n                .child(`${this.state.file.name}`)\r\n                // .getMetadata()\r\n                // .then(meta => {\r\n                //     console.log(meta)\r\n                // })\r\n                .getDownloadURL()\r\n                .then(url => {\r\n                    console.log(url)\r\n                    this.setState({ photoURL: url })\r\n                })\r\n\r\n\r\n        });\r\n    }\r\n\r\n\r\n    render() {\r\n        const progressBarUp = {\r\n            width: this.state.progress + \"%\"\r\n        }\r\n        const { cities, input } = this.props\r\n        //if (!auth.uid) return <Redirect to='/signin' />\r\n        return (\r\n            <div className=\"container\">\r\n                <div className=\"row valign-wrapper\">\r\n                    <div className=\"col s1\" >\r\n                        <Link to='/city'><div className=\"btn-floating btn-large waves-effect waves-light red lighten-2\">\r\n                            <i className=\" white-text lighten-3 fas fa-2x fa-arrow-left \" /></div></Link>\r\n                    </div>\r\n                    <h4 className=\"col s11\" >\r\n                        Create City\r\n                    </h4>\r\n                </div>\r\n                <form onSubmit={this.handleSubmit} className=\"white\">\r\n\r\n\r\n\r\n                    <div className=\"input-field\">\r\n                        <label htmlFor=\"cityName\" >City name</label>\r\n                        <input required type=\"text\" id=\"cityName\" onChange={this.handleChange} />\r\n                    </div>\r\n\r\n                    <div className=\"input-field\">\r\n                        <select required\r\n                            value={this.state.value}\r\n                            onChange={this.handleChange} id=\"countryName\">\r\n\r\n                            {this.state.options && this.state.options.map((country, i) => {\r\n                                return (\r\n                                    <option htmlFor=\"countryName\" key={i} value={country.label}>{country.label}</option>\r\n\r\n                                )\r\n                            })}\r\n                        </select>\r\n                        <label>Select Country</label>\r\n                    </div>\r\n\r\n\r\n                    <div className=\"input-field\">\r\n                        <label required htmlFor=\"summary\" >Summary</label>\r\n                        <textarea id=\"summary\" cols=\"30\" rows=\"10\" className=\"materialize-textarea\" onChange={this.handleChange}></textarea>\r\n                    </div>\r\n                    <div className=\"row\">\r\n                        <div className=\"col s6 file-field input-field\">\r\n                            <div className=\"btn\">\r\n                                <span>File</span>\r\n                                <input required accept=\"image/*\" type=\"file\" {...input} onChange={(e) => {\r\n                                    this.setState({ file: e.target.files[0], isUploading: true }, this.handleUpload)\r\n                                }} />\r\n                            </div>\r\n                            <div className=\"file-path-wrapper \">\r\n                                <input className=\"file-path validate\" type=\"text\" />\r\n                            </div>\r\n                            {this.state.isUploading && <div className=\"progress\">\r\n                                <div className=\"determinate\" style={progressBarUp}></div>\r\n                            </div>}\r\n                        </div>\r\n                        <div className=\"col s6\">\r\n\r\n                            {this.state.photoURL && <img width=\"100px\" src={this.state.photoURL} alt=\"\" />}\r\n                        </div>\r\n\r\n                    </div>\r\n                    <div className=\"input-field\">\r\n                    </div>\r\n                    <div className=\"input-field\">\r\n                        {!this.isUploading && <button disabled={this.isUploading} className=\"btn red lighten-2 z-depth-0\">Create</button>}\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        createCity: (city) => dispatch(createCity(city))\r\n\r\n    }\r\n}\r\n\r\n\r\nexport default connect(null, mapDispatchToProps)(CreateCity)\r\n\r\n","\r\nexport const createCity = (city) => {\r\n\r\n    return (dispatch, getState, {\r\n        getFirebase,\r\n        getFirestore\r\n    }) => {\r\n        const profile = getState().firebase.profile\r\n        const authorId = getState().firebase.auth.uid\r\n        const firestore = getFirestore();\r\n        firestore.collection('cities').add({\r\n            //...itinerary,\r\n            cityName: city.cityName,\r\n            countryName: city.countryName,\r\n            authorFirstName: profile.firstName,\r\n            authorLastName: profile.lastName,\r\n            authorId: authorId,\r\n            photoURL: city.photoURL,\r\n            summary: city.summary,\r\n            createdAt: new Date()\r\n        }).then(() => {\r\n            dispatch({\r\n                type: 'CREATE_CITY',\r\n                city\r\n            });\r\n        }).catch((err) => {\r\n            dispatch({\r\n                type: 'CREATE_CITY_ERROR',\r\n                err\r\n            })\r\n        })\r\n\r\n    }\r\n}","import React, { Component } from 'react';\nimport { BrowserRouter, Route, Switch } from 'react-router-dom'\nimport Dashboard from './components/dashboard/Dashboard'\nimport CityChoice from './components/dashboard/CityChoice'\nimport ItineraryChoice from './components/dashboard/ItineraryChoice'\nimport CreateItinerary from './components/itinerary/CreateItinerary'\nimport ItineraryDetails from './components/dashboard/ItineraryDetails'\nimport SignIn from './components/auth/SignIn'\nimport SignUp from './components/auth/SignUp'\nimport Navbar from './components/layout/Sidenav'\nimport './App.css';\nimport CreateCity from './components/city/CreateCity';\n\n\nexport default class App extends Component {\n  render() {\n    return (\n      <BrowserRouter>\n        <div className=\"App\">\n          <Navbar />\n          <Switch>\n            <Route exact path='/' component={Dashboard} />\n            <Route exact path='/city' component={CityChoice} />\n            <Route path='/city/:name' component={ItineraryChoice} />\n            <Route path='/city/:name/itinerary/:id' component={ItineraryDetails} />\n            <Route path='/createItinerary' component={CreateItinerary} />\n            <Route path='/createCity' component={CreateCity} />\n            <Route path='/signin' component={SignIn} />\n            <Route path='/signup' component={SignUp} />\n          </Switch>\n        </div>\n      </BrowserRouter>\n    );\n  }\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","const initState = {\r\n    authErr: null\r\n}\r\n\r\nconst authReducer = (state = initState, action) => {\r\n    switch (action.type) {\r\n        case 'LOGIN_ERROR':\r\n            console.log('login failed')\r\n            return {\r\n                ...state,\r\n                authErr: 'Login failed'\r\n            }\r\n        case 'LOGIN_SUCCESS':\r\n            console.log('login success')\r\n            return {\r\n                ...state,\r\n                authErr: null\r\n            }\r\n        case 'SIGNOUT_SUCESS':\r\n            console.log('signout success')\r\n            return state\r\n        case 'SIGNUP_SUCCESS':\r\n            console.log('signup success')\r\n            return {\r\n                ...state,\r\n                authErr: null\r\n            }\r\n        case 'SIGNUP_ERROR':\r\n            console.log('signup faild')\r\n            return {\r\n                ...state,\r\n                authErr: action.err.message\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n\r\n}\r\nexport default authReducer","import BerlinPhoto from '../../assets/img/Berlin.jpg'\r\n\r\nconst initState = {\r\n    cities: [{\r\n        id: 1,\r\n        name: 'Berlin',\r\n        photo: BerlinPhoto,\r\n        details: 'Welcome to Berlin'\r\n    },\r\n    {\r\n        id: 2,\r\n        name: 'Paris',\r\n        details: 'content2'\r\n    }\r\n        //,\r\n        //     {\r\n        //         id: 3,\r\n        //         title: 'title3',\r\n        //         content: 'content3'\r\n        //     },\r\n    ]\r\n}\r\n\r\nconst cityReducer = (state = initState, action) => {\r\n    switch (action.type) {\r\n        case 'CREATE_CITY':\r\n            console.log('created city', action.project)\r\n            return state;\r\n        case 'CREATE_CITY_ERROR':\r\n            console.log('create city error', action.err)\r\n            return state;\r\n        default:\r\n            return state;\r\n    }\r\n\r\n\r\n\r\n}\r\nexport default cityReducer","const initState = {\r\n\r\n}\r\n\r\n// const itineraryReducer = (state = initState, action) => {\r\n//     switch (action.type) {\r\n//         case 'GET_ITINERARY':\r\n//             console.log('itineraries retrieved', action.itinerary)\r\n//             return state;\r\n//         default:\r\n//             return state;\r\n//     }\r\n// }\r\nconst itineraryReducer = (state = initState, action) => {\r\n    switch (action.type) {\r\n        case 'CREATE_ITINERARY':\r\n            console.log('created itinerary', action.project)\r\n            return state;\r\n        case 'CREATE_ITINERARY_ERROR':\r\n            console.log('create itinerary error', action.err)\r\n            return state;\r\n        default:\r\n            return state;\r\n    }\r\n\r\n\r\n}\r\n\r\nexport default itineraryReducer","import authReducer from './authReducer'\r\nimport cityReducer from './cityReducer'\r\nimport itineraryReducer from './itineraryReducer'\r\nimport { combineReducers } from 'redux'\r\nimport { firestoreReducer } from 'redux-firestore'\r\nimport { firebaseReducer } from 'react-redux-firebase'\r\n\r\nconst rootReducer = combineReducers({\r\n    auth: authReducer,\r\n    city: cityReducer,\r\n    itinerary: itineraryReducer,\r\n    firestore: firestoreReducer,\r\n    firebase: firebaseReducer\r\n});\r\n\r\n\r\nexport default rootReducer\r\n"," import firebase from 'firebase/app'\r\n import 'firebase/firestore'\r\n import 'firebase/auth'\r\n\r\n // Initialize Firebase\r\n var config = {\r\n     apiKey: \"AIzaSyCtKC84podP-rj_fxclZg_1j7Cd7IwBGIk\",\r\n     authDomain: \"city-itinerary.firebaseapp.com\",\r\n     databaseURL: \"https://city-itinerary.firebaseio.com\",\r\n     projectId: \"city-itinerary\",\r\n     storageBucket: \"city-itinerary.appspot.com\",\r\n     messagingSenderId: \"150124635351\"\r\n };\r\n firebase.initializeApp(config);\r\n\r\n\r\n export default firebase;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { createStore, applyMiddleware, compose } from 'redux'\nimport rootReducer from './store/reducer/rootReducer'\nimport { Provider } from 'react-redux'\nimport thunk from 'redux-thunk'\nimport { reduxFirestore, getFirestore } from 'redux-firestore'\nimport { reactReduxFirebase, getFirebase } from 'react-redux-firebase'\nimport firebaseConfig from './config/firebaseConfig'\n\n\n// const store = createStore(rootReducer)\n\n\nconst store = createStore(rootReducer,\n    compose(\n        applyMiddleware(thunk.withExtraArgument({ getFirebase, getFirestore })),\n        reduxFirestore(firebaseConfig),\n        reactReduxFirebase(firebaseConfig, { useFirestoreForProfile: true, userProfile: 'users', attachAuthIsReady: true })\n    ))\nstore.firebaseAuthIsReady.then(() => {\n    ReactDOM.render(<Provider store={store}>< App /></Provider>, document.getElementById('root'));\n    serviceWorker.unregister();\n})\n\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}